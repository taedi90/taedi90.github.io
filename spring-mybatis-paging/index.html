<!doctype html><html><head><title>Spring Mybatis 페이징 처리</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><link rel=stylesheet href=/css/bootstrap.min.css><link rel=stylesheet href=/css/layouts/main.css><link rel=stylesheet href=/css/navigators/navbar.css><link rel=stylesheet href=/css/plyr.css><link rel=stylesheet href=/css/flag-icon.min.css><link href="https://fonts.googleapis.com/css2?family=Muli:wght@300;400;500;600" rel=stylesheet><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css><script defer src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1882367656929494" crossorigin=anonymous></script>
<link rel=icon type=image/png href=/images/site/favicon.svg><meta property="og:title" content="Spring Mybatis 페이징 처리"><meta property="og:description" content="마이바티스 환경에서 페이징 처리를 편리하게 하기 위한 방법을 고민하다 Pager 클래스를 활용하여 여러 페이지에서 공통적으로 사용할 수 있는 방법을 생각해보았다.
코드 Pager 클래스 생성 client 요청의 파라미터, db 조회 결과, view에 전달할 정보를 운반할 클래스를 생성한다. 테이블마다 추가로 필요한 속성이 있을 경우 상속을 받아 사용하였다.
import lombok.AllArgsConstructor; import lombok.Builder; import lombok.Data; /** * 페이징 처리를 위한 Pager 클래스 * * @author taedi */ @Data @Builder @AllArgsConstructor public class Pager { //client 요청 값 private int pageNo; //페이지 번호 private int amount; //한 페이지에 표시할 레코드 수 private String category; //카테고리 private String keyword; //검색 키워드 private String order; //정렬 순서 //server 설정 private int linkCount; //하단 링크에 표시할 페이지 수 //DB 조회 결과 private int startRecord; // 페이지 시작 레코드(인덱스) private int totalRecords; //전체 레코드 수 private int finalPageNo; //끝 페이지 번호 private int startPage; //페이지 링크 시작 번호 private int endPage; //페이지 링크 종료 번호 private int prev; //이전 버튼에 부여할 페이지 번호 private int next; //다음 버튼에 부여할 페이지 번호 private Object records; //게시물을 담을 객체 //별도 지정하지 않았을 경우의 기본 값 public Pager() { this."><meta property="og:type" content="article"><meta property="og:url" content="https://taedi90.github.io/spring-mybatis-paging/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-12-08T00:00:00+09:00"><meta property="article:modified_time" content="2021-12-14T09:54:00+09:00"><meta name=description content="Spring Mybatis 페이징 처리"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/atom-one-dark.min.css><link rel=stylesheet href=/css/layouts/single.css><link rel=stylesheet href=/css/navigators/sidebar.css><link rel=stylesheet href=/css/style.css><script async src="https://www.googletagmanager.com/gtag/js?id=G-52CHZ4CKK9"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-52CHZ4CKK9",{anonymize_ip:!1})}</script></head><body data-spy=scroll data-target=#TableOfContents data-offset=80><div class="container-fluid bg-dimmed wrapper"><nav class="navbar navbar-expand-xl top-navbar final-navbar shadow"><div class=container><button class="navbar-toggler navbar-light" id=sidebar-toggler type=button onclick=toggleSidebar()>
<span class=navbar-toggler-icon></span></button>
<a class=navbar-brand href=/><img src=/images/site/main-logo.svg alt=Logo>
Taedi's Log</a>
<button class="navbar-toggler navbar-light" id=toc-toggler type=button onclick=toggleTOC()>
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse lang-selector" id=top-nav-items><ul class="navbar-nav ml-auto"></ul></div></div><img src=/images/site/main-logo.svg class=d-none id=main-logo alt=Logo>
<img src=/images/site/inverted-logo.svg class=d-none id=inverted-logo alt="Inverted Logo"></nav><section class=sidebar-section id=sidebar-section><div class=sidebar-holder><div class=sidebar id=sidebar><form class=mx-auto method=get action=/search><input type=text name=keyword placeholder=Search data-search id=search-box></form><div class=sidebar-tree><ul class=tree id=tree><li id=list-heading><a href=/posts data-filter=all>Posts</a></li><div class=subtree><li><a href=/posts/blog/ title=Blog>Blog</a></li><li><a class=active href=/posts/java/ title=Java>Java</a></li><li><a href=/posts/javascript/ title=JavaScript>JavaScript</a></li><li><a href=/posts/logs/ title=Logs>Logs</a></li><li><a href=/posts/python/ title=Python>Python</a></li><li><a href=/posts/server/ title=Server>Server</a></li><li><a href=/posts/sql/ title=SQL>SQL</a></li></div></ul></div></div></div></section><section class=content-section id=content-section><div class=content><div class="container p-0 read-area"><div class="hero-area col-sm-12" id=hero-area style=background-image:url(https://taedi90.github.io/images/hero/java.png)></div><div class=page-content><div class="author-profile ml-auto align-self-lg-center"><img class=rounded-circle src=/images/author/avatar_hue4fa7b2d8e73b32dce85afe643c3f5c5_90375_120x120_fit_box_3.png alt="Author Image"><h5 class=author-name>Taesoo Kim</h5><p>2021년 12월 08일</p></div><div class=title><h1>Spring Mybatis 페이징 처리</h1></div><div class=taxonomy-terms><ul style=padding-inline-start:0><li class=rounded><a href=/tags/mybatis class="btn, btn-sm">Mybatis</a></li><li class=rounded><a href=/tags/spring class="btn, btn-sm">Spring</a></li></ul></div><div class=post-content id=post-content><p><img src=images/pic-0001.png alt=Untitled></p><p>마이바티스 환경에서 페이징 처리를 편리하게 하기 위한 방법을 고민하다 <code>Pager</code> 클래스를 활용하여 여러 페이지에서 공통적으로 사용할 수 있는 방법을 생각해보았다.</p><h2 id=코드>코드</h2><h3 id=pager-클래스-생성>Pager 클래스 생성</h3><p>client 요청의 파라미터, db 조회 결과, view에 전달할 정보를 운반할 클래스를 생성한다. 테이블마다 추가로 필요한 속성이 있을 경우 상속을 받아 사용하였다.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>import</span> lombok.AllArgsConstructor<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> lombok.Builder<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> lombok.Data<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e> * 페이징 처리를 위한 Pager 클래스
</span></span></span><span style=display:flex><span><span style=color:#75715e> *
</span></span></span><span style=display:flex><span><span style=color:#75715e> * @author taedi
</span></span></span><span style=display:flex><span><span style=color:#75715e> */</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>@Data</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>@Builder</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>@AllArgsConstructor</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Pager</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>//client 요청 값
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>int</span> pageNo<span style=color:#f92672>;</span> <span style=color:#75715e>//페이지 번호
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>int</span> amount<span style=color:#f92672>;</span> <span style=color:#75715e>//한 페이지에 표시할 레코드 수
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>private</span> String category<span style=color:#f92672>;</span> <span style=color:#75715e>//카테고리
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>private</span> String keyword<span style=color:#f92672>;</span> <span style=color:#75715e>//검색 키워드
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>private</span> String order<span style=color:#f92672>;</span> <span style=color:#75715e>//정렬 순서
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>//server 설정
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>int</span> linkCount<span style=color:#f92672>;</span> <span style=color:#75715e>//하단 링크에 표시할 페이지 수
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>//DB 조회 결과
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>int</span> startRecord<span style=color:#f92672>;</span> <span style=color:#75715e>// 페이지 시작 레코드(인덱스)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>int</span> totalRecords<span style=color:#f92672>;</span> <span style=color:#75715e>//전체 레코드 수
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>int</span> finalPageNo<span style=color:#f92672>;</span> <span style=color:#75715e>//끝 페이지 번호
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>int</span> startPage<span style=color:#f92672>;</span> <span style=color:#75715e>//페이지 링크 시작 번호
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>int</span> endPage<span style=color:#f92672>;</span> <span style=color:#75715e>//페이지 링크 종료 번호
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>int</span> prev<span style=color:#f92672>;</span> <span style=color:#75715e>//이전 버튼에 부여할 페이지 번호
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>int</span> next<span style=color:#f92672>;</span> <span style=color:#75715e>//다음 버튼에 부여할 페이지 번호
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> Object records<span style=color:#f92672>;</span> <span style=color:#75715e>//게시물을 담을 객체
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>//별도 지정하지 않았을 경우의 기본 값
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>Pager</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>pageNo</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>amount</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>10</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>order</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;desc&#34;</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>linkCount</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>10</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><h3 id=컨트롤러-부분>컨트롤러 부분</h3><p>컨트롤러에서는 uri 파라미터를 Pager 객체의 속성으로 저장하고 (amount, order, pageNo, category, keyword) mapper 조회 결과를 view 로 전송하는 역할을 한다.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#a6e22e>@GetMapping</span><span style=color:#f92672>(</span>params <span style=color:#f92672>=</span> <span style=color:#f92672>{</span><span style=color:#e6db74>&#34;section=product&#34;</span><span style=color:#f92672>,</span><span style=color:#e6db74>&#34;func=list&#34;</span><span style=color:#f92672>})</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> String <span style=color:#a6e22e>getProductList</span><span style=color:#f92672>(</span>Pager pager<span style=color:#f92672>,</span> Model model<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>//테이블 정보 조회(조건에 해당하는 정보)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    pager <span style=color:#f92672>=</span> itemMapper<span style=color:#f92672>.</span><span style=color:#a6e22e>getInfoForPaging</span><span style=color:#f92672>(</span>pager<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>//게시물 조회
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    List<span style=color:#f92672>&lt;</span>Item<span style=color:#f92672>&gt;</span> list <span style=color:#f92672>=</span> itemMapper<span style=color:#f92672>.</span><span style=color:#a6e22e>selectItemList</span><span style=color:#f92672>(</span>pager<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>//pager 객체에 게시물 정보 담기
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    pager<span style=color:#f92672>.</span><span style=color:#a6e22e>setRecords</span><span style=color:#f92672>(</span>list<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>		<span style=color:#75715e>//데이터 전달
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    model<span style=color:#f92672>.</span><span style=color:#a6e22e>addAttribute</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;url&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;content/product/product-list.jsp&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    model<span style=color:#f92672>.</span><span style=color:#a6e22e>addAttribute</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;result&#34;</span><span style=color:#f92672>,</span> pager<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;manage/manage&#34;</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><h3 id=sql-mapper>SQL mapper</h3><p>페이징을 처리하려면 테이블에서 조건(category, keyword)을 만족하는 레코드의 수를 파악하여 현재 페이지에 몇 번째 글부터 표시해야 하는지와 전체 페이지 수를 계산하는 로직이 필요하다. 이 로직을 Pager 클래스에 메서드로 정의할지 DB에서 처리할지 고민하다 공부도 할 겸 DB 에서 모두 처리하여 전달하도록 구성하여보았다.</p><h4 id=테이블-정보-조회>테이블 정보 조회</h4><p>아래 쿼리를 실행하면 totalRecords, finalPageNo, startPage, endPage, prev, next 정보를 얻을 수 있다.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#f92672>&lt;select</span> <span style=color:#a6e22e>id=</span><span style=color:#e6db74>&#34;getInfoForPaging&#34;</span> <span style=color:#a6e22e>parameterType=</span><span style=color:#e6db74>&#34;Pager&#34;</span> <span style=color:#a6e22e>resultType=</span><span style=color:#e6db74>&#34;Pager&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>&lt;![CDATA[
</span></span></span><span style=display:flex><span><span style=color:#75715e>    SELECT `total_records`,
</span></span></span><span style=display:flex><span><span style=color:#75715e>           `final_page_no`,
</span></span></span><span style=display:flex><span><span style=color:#75715e>           `start_page`,
</span></span></span><span style=display:flex><span><span style=color:#75715e>           if(@final_page &gt; @end_page, @end_page, @final_page) `end_page`,
</span></span></span><span style=display:flex><span><span style=color:#75715e>           @start_page - 1 `prev`,
</span></span></span><span style=display:flex><span><span style=color:#75715e>           if(@final_page &gt; @end_page, @end_page + 1, 0) `next`,
</span></span></span><span style=display:flex><span><span style=color:#75715e>           (#{pageNo} - 1) * #{amount} `start_record`,
</span></span></span><span style=display:flex><span><span style=color:#75715e>           #{amount} `amount`,
</span></span></span><span style=display:flex><span><span style=color:#75715e>           #{pageNo} `page_no`,
</span></span></span><span style=display:flex><span><span style=color:#75715e>           #{order} `order`,
</span></span></span><span style=display:flex><span><span style=color:#75715e>           #{linkCount} `link_count`,
</span></span></span><span style=display:flex><span><span style=color:#75715e>           #{category} `category`,
</span></span></span><span style=display:flex><span><span style=color:#75715e>           #{keyword} `keyword`
</span></span></span><span style=display:flex><span><span style=color:#75715e>    FROM (SELECT @total_recode := COUNT(*) `total_records`,
</span></span></span><span style=display:flex><span><span style=color:#75715e>        @final_page := CEIL(COUNT(*) / #{amount}) `final_page_no`,
</span></span></span><span style=display:flex><span><span style=color:#75715e>        @start_page := truncate(((#{pageNo} - 1) / #{linkCount}), 0) * #{linkCount} + 1 `start_page`,
</span></span></span><span style=display:flex><span><span style=color:#75715e>        @end_page := truncate(((#{pageNo} - 1) / #{linkCount}), 0) * #{linkCount} + #{linkCount}
</span></span></span><span style=display:flex><span><span style=color:#75715e>        FROM `item`
</span></span></span><span style=display:flex><span><span style=color:#75715e>    ]]&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;where&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;if</span> <span style=color:#a6e22e>test=</span><span style=color:#e6db74>&#34;category != null and category != &#39;&#39;&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>            `category` = #{category}
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;/if&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;if</span> <span style=color:#a6e22e>test=</span><span style=color:#e6db74>&#34;keyword != null and keyword != &#39;&#39;&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>            AND `title` LIKE CONCAT(&#39;%&#39;, #{keyword}, &#39;%&#39;)
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;/if&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;/where&gt;</span>
</span></span><span style=display:flex><span>    ) a
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/select&gt;</span>
</span></span></code></pre></div><h4 id=게시물-조회>게시물 조회</h4><p>그리고 조회한 내용을 바탕으로 실제 게시물 데이터를 받아온다.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#f92672>&lt;select</span> <span style=color:#a6e22e>id=</span><span style=color:#e6db74>&#34;selectItemList&#34;</span> <span style=color:#a6e22e>parameterType=</span><span style=color:#e6db74>&#34;Pager&#34;</span> <span style=color:#a6e22e>resultMap=</span><span style=color:#e6db74>&#34;itemMap&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>    SELECT *
</span></span><span style=display:flex><span>    FROM `item`
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;where&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;if</span> <span style=color:#a6e22e>test=</span><span style=color:#e6db74>&#34;category != null and category != &#39;&#39;&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>            `category` = #{category}
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;/if&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;if</span> <span style=color:#a6e22e>test=</span><span style=color:#e6db74>&#34;keyword != null and keyword != &#39;&#39;&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>            AND `title` LIKE CONCAT(&#39;%&#39;, #{keyword}, &#39;%&#39;)
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;/if&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;/where&gt;</span>
</span></span><span style=display:flex><span>    ORDER BY `no` ${order}
</span></span><span style=display:flex><span>    LIMIT #{startRecord}, #{amount}
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/select&gt;</span>
</span></span></code></pre></div><h3 id=jsp-링크-부분>JSP 링크 부분</h3><p>페이지 번호를 제외한 기존의 파라미터를 그대로 유지하기 위해 link 변수를 설정하고, 각 버튼마다 (사실은 a태그) link 변수에 pageNo 를 추가한 uri를 부여하였다.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>&lt;</span>%-- 기본 링크 설정 --%&gt;
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;c:set</span> <span style=color:#a6e22e>var=</span><span style=color:#e6db74>&#34;link&#34;</span>
</span></span><span style=display:flex><span>       <span style=color:#a6e22e>value=</span><span style=color:#e6db74>&#34;manage?section=product&amp;func=list&amp;amount=${requestScope.result.amount}&amp;order=${requestScope.result.order}&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;c:if</span> <span style=color:#a6e22e>test=</span><span style=color:#e6db74>&#34;${requestScope.result.category ne null}&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;c:set</span> <span style=color:#a6e22e>var=</span><span style=color:#e6db74>&#34;link&#34;</span> <span style=color:#a6e22e>value=</span><span style=color:#e6db74>&#34;${link}&amp;category=${requestScope.result.category}&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/c:if&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;c:if</span> <span style=color:#a6e22e>test=</span><span style=color:#e6db74>&#34;${requestScope.result.keyword ne null}&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;c:set</span> <span style=color:#a6e22e>var=</span><span style=color:#e6db74>&#34;link&#34;</span> <span style=color:#a6e22e>value=</span><span style=color:#e6db74>&#34;${link}&amp;keyword=${requestScope.result.keyword}&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/c:if&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>&lt;</span>%-- 이전 버튼 --%&gt;
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;c:if</span> <span style=color:#a6e22e>test=</span><span style=color:#e6db74>&#34;${requestScope.result.prev &gt; 0}&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;a</span> <span style=color:#a6e22e>href=</span><span style=color:#e6db74>&#34;${link}&amp;pageNo=${requestScope.result.prev}&#34;</span><span style=color:#f92672>&gt;</span>이전<span style=color:#f92672>&lt;/a&gt;</span>&amp;nbsp;
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/c:if&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>&lt;</span>%-- 페이지번호 --%&gt;
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;c:forEach</span> <span style=color:#a6e22e>begin=</span><span style=color:#e6db74>&#34;${requestScope.result.startPage}&#34;</span> <span style=color:#a6e22e>end=</span><span style=color:#e6db74>&#34;${requestScope.result.endPage}&#34;</span> <span style=color:#a6e22e>step=</span><span style=color:#e6db74>&#34;1&#34;</span> <span style=color:#a6e22e>varStatus=</span><span style=color:#e6db74>&#34;i&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;c:set</span> <span style=color:#a6e22e>var=</span><span style=color:#e6db74>&#34;pgNo&#34;</span> <span style=color:#a6e22e>value=</span><span style=color:#e6db74>&#34;${requestScope.result.startPage + i.count - 1}&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;c:choose&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;c:when</span> <span style=color:#a6e22e>test=</span><span style=color:#e6db74>&#34;${pgNo ne requestScope.result.pageNo}&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>            &amp;nbsp;<span style=color:#f92672>&lt;a</span> <span style=color:#a6e22e>href=</span><span style=color:#e6db74>&#34;${link}&amp;pageNo=${pgNo}&#34;</span><span style=color:#f92672>&gt;</span>${pgNo}<span style=color:#f92672>&lt;/a&gt;</span>&amp;nbsp;
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;/c:when&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;c:when</span> <span style=color:#a6e22e>test=</span><span style=color:#e6db74>&#34;${pgNo eq requestScope.result.pageNo}&#34;</span><span style=color:#f92672>&gt;</span>&amp;nbsp;<span style=color:#f92672>&lt;span</span> <span style=color:#a6e22e>id=</span><span style=color:#e6db74>&#34;now_page&#34;</span><span style=color:#f92672>&gt;</span>${pgNo}<span style=color:#f92672>&lt;/span&gt;</span>&amp;nbsp;<span style=color:#f92672>&lt;/c:when&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;/c:choose&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/c:forEach&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>&lt;</span>%-- 다음 버튼 --%&gt;
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;c:if</span> <span style=color:#a6e22e>test=</span><span style=color:#e6db74>&#34;${requestScope.result.next &gt; 0}&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>    &amp;nbsp;<span style=color:#f92672>&lt;a</span> <span style=color:#a6e22e>href=</span><span style=color:#e6db74>&#34;${link}&amp;pageNo=${requestScope.result.next}&#34;</span><span style=color:#f92672>&gt;</span>다음<span style=color:#f92672>&lt;/a&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/c:if&gt;</span>
</span></span></code></pre></div><h2 id=참고>참고</h2><ul><li><a href=https://badstorage.tistory.com/13>https://badstorage.tistory.com/13</a></li></ul></div><ins class=adsbygoogle style=display:inline-block;min-width:400px;width:100%;text-align:center data-ad-client=ca-pub-1882367656929494 data-ad-slot=9457951065 data-ad-format=auto data-full-width-responsive=true></ins>
<script>(adsbygoogle=window.adsbygoogle||[]).push({})</script><hr><div class="row next-prev-navigator"><div class="col-md-6 previous-article"><a href=/tomcat-external-deploy-maven/ title="[Maven] 외부 톰캣에 deploy 설정하기" class="btn btn-outline-info"><div><i class="fas fa-chevron-circle-left"></i> 이전</div><div class=next-prev-text>[Maven] 외부 톰캣에 deploy 설정하기</div></a></div><div class="col-md-6 next-article"><a href=/eclipse-mac-kor-fix/ title="이클립스(eclipse), Dbeaver 맥에서 한글 짤림문제 해결" class="btn btn-outline-info"><div>다음 <i class="fas fa-chevron-circle-right"></i></div><div class=next-prev-text>이클립스(eclipse), Dbeaver 맥에서 한글 짤림문제 해결</div></a></div></div><hr><div class=utterances></div><script src=https://utteranc.es/client.js repo=taedi90/blog_comments issue-term=pathname theme=github-light crossorigin=anonymous defer></script></div></div></div><a id=scroll-to-top class=btn><i class="fas fa-chevron-circle-up"></i></a></section><section class=toc-section id=toc-section><div class=toc-holder><h5 class="text-center pl-3">List</h5><hr><div class=toc><nav id=TableOfContents><ul><li><a href=#코드>코드</a><ul><li><a href=#pager-클래스-생성>Pager 클래스 생성</a></li><li><a href=#컨트롤러-부분>컨트롤러 부분</a></li><li><a href=#sql-mapper>SQL mapper</a><ul><li><a href=#테이블-정보-조회>테이블 정보 조회</a></li><li><a href=#게시물-조회>게시물 조회</a></li></ul></li><li><a href=#jsp-링크-부분>JSP 링크 부분</a></li></ul></li><li><a href=#참고>참고</a></li></ul></nav></div></div></section></div><footer class="container-fluid text-center align-content-center footer pb-2"><div class="container pt-5"><div class="row text-left"><div class="col-md-4 col-sm-12"><h5>Contact</h5><ul><li><a href=mailto:taedi90@gmail.com target=_blank rel=noopener><span><i class="fas fa-envelope"></i></span> <span>taedi90@gmail.com</span></a></li><li><a href=https://github.com/taedi90 target=_blank rel=noopener><span><i class="fab fa-github"></i></span> <span>taedi90</span></a></li></ul></div></div></div></footer><script type=text/javascript src=/js/jquery-3.4.1.min.js></script>
<script type=text/javascript src=/js/popper.min.js></script>
<script type=text/javascript src=/js/bootstrap.min.js></script>
<script type=text/javascript src=/js/navbar.js></script>
<script type=text/javascript src=/js/plyr.js></script>
<script type=text/javascript src=/js/main.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js></script>
<script src=/js/single.js></script>
<script>hljs.initHighlightingOnLoad()</script><script>$(document).ready(function(){$("p").has("img").css("text-align","center")})</script></body></html>