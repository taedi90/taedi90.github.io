<!doctype html><html>
<head>
<title>팀 프로젝트(쇼핑몰 제작) 회고 - 4.DB</title>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta http-equiv=x-ua-compatible content="ie=edge">
<link rel=stylesheet href=/css/bootstrap.min.css>
<link rel=stylesheet href=/css/layouts/main.css>
<link rel=stylesheet href=/css/navigators/navbar.css>
<link rel=stylesheet href=/css/plyr.css>
<link rel=stylesheet href=/css/flag-icon.min.css>
<link href="https://fonts.googleapis.com/css2?family=Muli:wght@300;400;500;600" rel=stylesheet>
<link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css>
<script defer src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1882367656929494" crossorigin=anonymous></script>
<link rel=icon type=image/png href=/images/site/favicon.svg>
<meta property="og:title" content="팀 프로젝트(쇼핑몰 제작) 회고 - 4.DB">
<meta property="og:description" content="프로젝트를 진행하면서 가장 찾기 어려웠던 자료가 DB 구조에 대한 부분이었다. 정답이 명확하지도 않거니와 실제 서비스라면 핵심적인 로직이 드러날 수도 있는 부분이라 자료가 크게 없지 않을까 개인적으로 생각해보았다. 그리고 DB를 구현하기 위해서 Flow가 선행되어야 함을 느꼈고 두 과정을 병행하여 진행했던 기억이 있다.
1. DB 초기부터 제품 교환에 대한 부분은 고려하지 않았고 논리적인 오류는 그때그때 수정하여 나온 결과지만 여기저기 미흡한 부분이 있을 수 있다.
1-1. ERD 1-2.DDL -- project DROP SCHEMA IF EXISTS `project`; -- project CREATE SCHEMA `project`; USE `project`; CREATE TABLE carrier ( carrier_no int AUTO_INCREMENT COMMENT '택배사 코드' PRIMARY KEY, name varchar(100) NULL COMMENT '택배사 명', biz_no char(10) NULL COMMENT '사업자번호' ) COMMENT '택배사'; CREATE TABLE category ( category_no int AUTO_INCREMENT COMMENT '카테고리 번호' PRIMARY KEY, title varchar(100) NULL COMMENT '카테고리 명' ) COMMENT '카테고리'; CREATE TABLE coupon ( coupon_no int AUTO_INCREMENT COMMENT '쿠폰번호' PRIMARY KEY, name varchar(100) NULL COMMENT '쿠폰명', amount int NULL COMMENT '정액할인', min_price int NULL COMMENT '제품하한가', percent decimal(3, 2) NULL COMMENT '정률할인', max_discount int NULL COMMENT '할인상한가', validity int NULL COMMENT '유효기간' ) COMMENT '쿠폰'; CREATE TABLE keyword_history ( field varchar(100) NULL COMMENT '검색자', keyword varchar(5000) NULL COMMENT '키워드', reg_date timestamp NULL COMMENT '검색일자' ) COMMENT '검색키워드'; CREATE TABLE member ( username varchar(100) NOT NULL COMMENT '아이디' PRIMARY KEY, password varchar(500) NOT NULL COMMENT '비밀번호', name varchar(100) NOT NULL COMMENT '이름', email varchar(200) NOT NULL COMMENT '이메일', email_confirm tinyint(1) DEFAULT '0' NOT NULL COMMENT '이메일 본인확인', phone char(11) NULL COMMENT '휴대폰', reg_date timestamp DEFAULT CURRENT_TIMESTAMP NULL COMMENT '생성일자', withdrawal_date timestamp NULL COMMENT '탈퇴일자', social tinyint(1) NOT NULL COMMENT '소셜회원 여부', temp_pass tinyint(1) DEFAULT '0' NULL COMMENT '임시비밀번호여부', enabled tinyint(1) DEFAULT '1' NOT NULL COMMENT '활성화 상태' ) COMMENT '회원'; CREATE TABLE auth ( username varchar(100) NOT NULL COMMENT '아이디', authority varchar(50) NOT NULL COMMENT '권한', PRIMARY KEY (username, authority), CONSTRAINT fk_member_to_auth FOREIGN KEY (username) REFERENCES member (username) ) COMMENT '권한'; CREATE TABLE persistent_logins ( username varchar(100) NOT NULL COMMENT '아이디', series varchar(64) NOT NULL COMMENT '시리즈' PRIMARY KEY, token varchar(64) NOT NULL COMMENT '토큰', last_used timestamp NOT NULL COMMENT '마지막 사용' ) COMMENT '자동 로그인'; CREATE TABLE address ( username varchar(100) NULL COMMENT '아이디', title varchar(100) NULL COMMENT '배송지별칭', zipcode char(5) NULL COMMENT '우편번호', address1 varchar(500) NULL COMMENT '주소 앞', address2 varchar(500) NULL COMMENT '주소 상세', name varchar(100) NULL COMMENT '받는분', phone char(11) NULL COMMENT '휴대폰', reg_date timestamp DEFAULT CURRENT_TIMESTAMP NULL COMMENT '등록일자', mod_date timestamp NULL ON UPDATE CURRENT_TIMESTAMP COMMENT '수정일자', CONSTRAINT fk_member_to_address FOREIGN KEY (username) REFERENCES member (username) ) COMMENT '주소'; CREATE TABLE coupon_history ( issue_number bigint AUTO_INCREMENT COMMENT '쿠폰발급번호', coupon_no int NOT NULL COMMENT '쿠폰번호', username varchar(100) NOT NULL COMMENT '아이디', reg_date timestamp DEFAULT CURRENT_TIMESTAMP NULL COMMENT '발급일자', expire_date timestamp NULL COMMENT '만료일자', use_date timestamp NULL COMMENT '사용일자', use_order bigint NULL COMMENT '사용주문', PRIMARY KEY (issue_number, coupon_no, username), CONSTRAINT fk_coupon_to_coupon_history FOREIGN KEY (coupon_no) REFERENCES coupon (coupon_no), CONSTRAINT fk_member_to_coupon_history FOREIGN KEY (username) REFERENCES member (username) ) COMMENT '쿠폰발급이력'; CREATE TABLE non_member ( non_username varchar(100) NOT NULL COMMENT '임시아이디' PRIMARY KEY, password varchar(500) NULL COMMENT '주문확인비번', name varchar(100) NULL COMMENT '이름', email varchar(200) NULL COMMENT '이메일', phone char(11) NULL COMMENT '핸드폰', reg_date timestamp DEFAULT CURRENT_TIMESTAMP NULL COMMENT '등록일자' ) COMMENT '비회원'; CREATE TABLE `order` ( order_no bigint NOT NULL COMMENT '주문번호' PRIMARY KEY, username varchar(100) NULL COMMENT '회원아이디', non_username varchar(100) NULL COMMENT '비회원아이디', zipcode char(5) NULL COMMENT '우편번호', address1 varchar(500) NULL COMMENT '주소 앞', address2 varchar(500) NULL COMMENT '주소 상세', name varchar(100) NULL COMMENT '받는분', phone char(11) NULL COMMENT '휴대폰', reg_date timestamp DEFAULT CURRENT_TIMESTAMP NULL COMMENT '생성일자', point int NULL COMMENT '포인트 사용액', status varchar(50) NULL COMMENT '주문상태', CONSTRAINT fk_member_to_order FOREIGN KEY (username) REFERENCES member (username), CONSTRAINT fk_non_member_to_order FOREIGN KEY (non_username) REFERENCES non_member (non_username) ) COMMENT '주문'; CREATE TABLE pass_history ( username varchar(100) NULL COMMENT '아이디', password varchar(500) NULL COMMENT '비밀번호', reg_date timestamp DEFAULT CURRENT_TIMESTAMP NULL COMMENT '설정일자', CONSTRAINT fk_member_to_pass_history FOREIGN KEY (username) REFERENCES member (username) ) COMMENT 'pass_history'; CREATE TABLE payment ( payment_no bigint AUTO_INCREMENT COMMENT '번호' PRIMARY KEY, sort varchar(50) NULL COMMENT '결제구분', method varchar(50) NULL COMMENT '지불방식', order_no bigint NULL COMMENT '주문번호', uid varchar(50) NULL COMMENT 'pg사 결제번호', amount int NULL COMMENT '결제금액', reg_date timestamp DEFAULT CURRENT_TIMESTAMP NULL COMMENT '결제일자', CONSTRAINT fk_order_to_payment FOREIGN KEY (order_no) REFERENCES `order` (order_no) ) COMMENT '결제환불'; CREATE TABLE point ( point_no bigint AUTO_INCREMENT COMMENT '포인트 번호' PRIMARY KEY, username varchar(100) NOT NULL COMMENT '아이디', point int NULL COMMENT '포인트', order_item_no bigint NULL COMMENT '주문상품번호', review_no bigint NULL COMMENT '리뷰번호', reg_date timestamp DEFAULT CURRENT_TIMESTAMP NULL COMMENT '적립일', exp_date timestamp NULL COMMENT '만료일', CONSTRAINT fk_member_to_point FOREIGN KEY (username) REFERENCES member (username) ) COMMENT '포인트'; CREATE TABLE privacy_policy ( policy_no int AUTO_INCREMENT COMMENT '번호' PRIMARY KEY, text varchar(10000) NULL COMMENT '내용', reg_date timestamp DEFAULT CURRENT_TIMESTAMP NULL COMMENT '작성일' ) COMMENT '개인정보 처리 방침'; CREATE table privacy_agreement ( username varchar(100) NOT NULL COMMENT '동의자 아이디', policy_no int NOT NULL COMMENT '약관번호', reg_date timestamp DEFAULT CURRENT_TIMESTAMP NULL COMMENT '동의일자', PRIMARY KEY (username, policy_no), CONSTRAINT fk_member_to_privacy_agreement FOREIGN KEY (username) REFERENCES member (username), CONSTRAINT fk_privacy_policy_to_privacy_agreement FOREIGN KEY (policy_no) REFERENCES privacy_policy (policy_no) ) COMMENT '개인정보 처리 방침 동의 내역'; CREATE TABLE product_info_announce ( pia_no int AUTO_INCREMENT COMMENT '고시_번호' PRIMARY KEY, title varchar(100) NULL COMMENT '템플릿 명', text varchar(5000) NULL COMMENT '내용', reg_date timestamp DEFAULT CURRENT_TIMESTAMP NULL COMMENT '작성일' ) COMMENT '상품정보제공고시'; CREATE TABLE item ( item_no int AUTO_INCREMENT COMMENT '상품번호' PRIMARY KEY, category_no int NULL COMMENT '카테고리번호', name varchar(100) NULL COMMENT '상품명', price int NULL COMMENT '가격', discount int NULL COMMENT '할인_가격', start_discount timestamp NULL COMMENT '할인_시작일', end_discount timestamp NULL COMMENT '할인_종료일', title varchar(100) NULL COMMENT '제목', text varchar(10000) NULL COMMENT '내용', image varchar(200) NULL UNIQUE COMMENT '상품이미지', pia_no int NULL COMMENT '상품정보제공고시_번호', coupon_allow tinyint(1) NULL COMMENT '쿠폰할인가능여부', hide tinyint(1) NULL COMMENT '상품숨기기', reg_date timestamp DEFAULT CURRENT_TIMESTAMP NULL COMMENT '작성일자', mod_date timestamp NULL ON UPDATE CURRENT_TIMESTAMP COMMENT '수정일자', username varchar(100) NOT NULL COMMENT '작성자', publish tinyint(1) NULL COMMENT '발행여부', CONSTRAINT fk_category_to_item FOREIGN KEY (category_no) REFERENCES category (category_no) ON UPDATE CASCADE, CONSTRAINT fk_product_info_announce_to_item FOREIGN KEY (pia_no) REFERENCES product_info_announce (pia_no) ON UPDATE CASCADE, CONSTRAINT fk_member_to_item FOREIGN KEY (username) REFERENCES member (username) ) COMMENT '상품정보'; CREATE TABLE `option` ( option_no bigint AUTO_INCREMENT COMMENT '옵션번호', item_no int NOT NULL COMMENT '상품번호', name varchar(100) NULL COMMENT '옵션명', option_price int NULL COMMENT '추가금액', stock int NULL COMMENT '재고수량', PRIMARY KEY (option_no, item_no), CONSTRAINT fk_item_to_option FOREIGN KEY (item_no) REFERENCES item (item_no) ON UPDATE CASCADE ON DELETE CASCADE ) COMMENT '상품옵션'; CREATE TABLE cart ( cart_no bigint AUTO_INCREMENT COMMENT '장바구니 번호' PRIMARY KEY, username varchar(100) NOT NULL COMMENT '아이디', option_no bigint NULL COMMENT '옵션번호', item_no int NULL COMMENT '상품번호', quantity int NULL COMMENT '수량', reg_date timestamp DEFAULT CURRENT_TIMESTAMP NULL COMMENT '등록일자', mod_date timestamp NULL ON UPDATE CURRENT_TIMESTAMP COMMENT '수정일자', CONSTRAINT fk_member_to_cart FOREIGN KEY (username) REFERENCES member (username), CONSTRAINT fk_option_to_cart FOREIGN KEY (option_no, item_no) REFERENCES `option` (option_no, item_no) ON DELETE CASCADE ON UPDATE CASCADE ) COMMENT '장바구니'; CREATE TABLE question ( question_no bigint AUTO_INCREMENT COMMENT '질문번호', username varchar(100) NOT NULL COMMENT '아이디', item_no int NULL COMMENT '상품번호', title varchar(100) NULL COMMENT '제목', secret tinyint(1) NULL COMMENT '비밀글여부', text varchar(5000) NULL COMMENT '내용', reg_date timestamp DEFAULT CURRENT_TIMESTAMP NULL COMMENT '작성일', answer_title varchar(100) NULL COMMENT '답변_제목', answer_text varchar(5000) NULL COMMENT '답변_내용', answer_id varchar(100) NULL COMMENT '답변_작성자', answer_reg_date timestamp NULL COMMENT '답변_작성일', PRIMARY KEY (question_no, username), CONSTRAINT fk_item_to_question FOREIGN KEY (item_no) REFERENCES item (item_no) ON UPDATE CASCADE ON DELETE SET NULL, CONSTRAINT fk_member_to_question FOREIGN KEY (username) REFERENCES member (username) ) COMMENT '질문답변'; CREATE TABLE return_option ( return_option_code int AUTO_INCREMENT COMMENT '반품_코드' PRIMARY KEY, reason varchar(50) NULL COMMENT '반품_사유', return_free tinyint(1) NULL COMMENT '배송비 면제', comment varchar(5000) NULL COMMENT '비고' ) COMMENT '반품사유'; CREATE TABLE order_item ( order_item_no bigint AUTO_INCREMENT COMMENT '주문상품번호', order_no bigint NOT NULL COMMENT '주문번호', item_no int NULL COMMENT '상품번호', option_no bigint NULL COMMENT '옵션번호', option_name varchar(100) NULL COMMENT '옵션명', issue_number bigint NULL COMMENT '쿠폰발급번호', coupon_no int NULL COMMENT '쿠폰번호', price_item int NULL COMMENT '상품 금액', price_option int NULL COMMENT '옵션 금액', price_coupon int NULL COMMENT '할인 금액', prepare_date timestamp NULL COMMENT '배송_준비일', delivery_carrier_no int NULL COMMENT '택배사번호', tracking_number int NULL COMMENT '배송_운송장번호', delivery_start_date timestamp NULL COMMENT '배송_운송장등록일', delivery_end_date timestamp NULL COMMENT '배송_완료일', confirm_date timestamp NULL COMMENT '구매_확정일', cancel_date timestamp NULL COMMENT '취소_요청일', return_date timestamp NULL COMMENT '반품_요청일', return_carrier_no int NULL COMMENT '반품_택배사번호', return_number timestamp NULL COMMENT '반품_운송장', return_confirm_date timestamp NULL COMMENT '반품_처리일', return_option_code int NULL COMMENT '반품_코드', refund_date timestamp NULL COMMENT '환불_일자', PRIMARY KEY (order_item_no, order_no), CONSTRAINT fk_carrier_to_order_item FOREIGN KEY (delivery_carrier_no) REFERENCES carrier (carrier_no) ON UPDATE CASCADE, CONSTRAINT fk_coupon_history_to_order_item FOREIGN KEY (issue_number, coupon_no) REFERENCES coupon_history (issue_number, coupon_no) ON UPDATE CASCADE, CONSTRAINT fk_option_to_order_item FOREIGN KEY (option_no, item_no) REFERENCES `option` (option_no, item_no) ON UPDATE CASCADE ON DELETE SET NULL, CONSTRAINT fk_order_to_order_item FOREIGN KEY (order_no) REFERENCES `order` (order_no) ON UPDATE CASCADE, CONSTRAINT fk_return_option_to_order_item FOREIGN KEY (return_option_code) REFERENCES return_option (return_option_code) ON UPDATE CASCADE ) COMMENT '주문상품'; CREATE TABLE review ( review_no bigint AUTO_INCREMENT COMMENT '리뷰번호', order_item_no bigint NOT NULL COMMENT '주문상품번호', order_no bigint NOT NULL COMMENT '주문번호', username varchar(100) NULL COMMENT '아이디', star int NULL COMMENT '별점', text varchar(5000) NULL COMMENT '내용', title varchar(100) NULL COMMENT '제목', reg_date timestamp DEFAULT CURRENT_TIMESTAMP NULL COMMENT '작성일', mod_date timestamp NULL ON UPDATE CURRENT_TIMESTAMP COMMENT '수정일', answer_text varchar(5000) NULL COMMENT '답변 내용', answer_id varchar(100) NULL COMMENT '답변 담당자', answer_reg_date timestamp NULL COMMENT '답변 작성일', answer_mod_date timestamp NULL COMMENT '답변 수정일', PRIMARY KEY (review_no, order_item_no, order_no), CONSTRAINT fk_member_to_review FOREIGN KEY (username) REFERENCES member (username), CONSTRAINT fk_order_item_to_review FOREIGN KEY (order_item_no, order_no) REFERENCES order_item (order_item_no, order_no) ) COMMENT '리뷰'; CREATE TABLE `like` ( review_no bigint NOT NULL COMMENT '리뷰번호', username varchar(100) NOT NULL COMMENT '아이디', reg_date timestamp NULL COMMENT '일자', PRIMARY KEY (review_no, username), CONSTRAINT fk_member_to_like FOREIGN KEY (username) REFERENCES member (username), CONSTRAINT fk_review_to_like FOREIGN KEY (review_no) REFERENCES review (review_no) ON UPDATE CASCADE ON DELETE CASCADE ) COMMENT '좋아요'; CREATE TABLE review_comment ( comment_no bigint AUTO_INCREMENT COMMENT '댓글번호' PRIMARY KEY, order_item_no bigint NULL COMMENT '주문상품번호', review_no bigint NULL COMMENT '리뷰번호', username varchar(100) NULL COMMENT '아이디', text varchar(5000) NULL COMMENT '내용', reg_date timestamp DEFAULT CURRENT_TIMESTAMP NULL COMMENT '작성일자', mod_date timestamp NULL ON UPDATE CURRENT_TIMESTAMP COMMENT '수정일자', order_no bigint NULL COMMENT '주문번호', CONSTRAINT fk_member_to_review_comment FOREIGN KEY (username) REFERENCES member (username) ON UPDATE CASCADE ON DELETE CASCADE, CONSTRAINT fk_review_to_review_comment FOREIGN KEY (review_no) REFERENCES review (review_no) ) COMMENT '리뷰댓글'; CREATE TABLE review_template ( no int AUTO_INCREMENT COMMENT '번호' PRIMARY KEY, name varchar(100) NULL COMMENT '별칭', text varchar(5000) NULL COMMENT '내용', reg_date timestamp DEFAULT CURRENT_TIMESTAMP NULL COMMENT '작성일', mod_date timestamp NULL ON UPDATE CURRENT_TIMESTAMP COMMENT '수정일' ) COMMENT '리뷰 답변 템플릿'; ">
<meta property="og:type" content="article">
<meta property="og:url" content="https://log.taedi.net/yi-teamproject-log-4/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2021-12-07T00:00:00+09:00">
<meta property="article:modified_time" content="2021-12-13T20:47:00+09:00">
<meta name=description content="팀 프로젝트(쇼핑몰 제작) 회고 - 4.DB">
<link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/atom-one-dark.min.css>
<link rel=stylesheet href=/css/layouts/single.css>
<link rel=stylesheet href=/css/navigators/sidebar.css>
<link rel=stylesheet href=/css/style.css>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-52CHZ4CKK9"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-52CHZ4CKK9',{anonymize_ip:!1})}</script>
</head>
<body data-spy=scroll data-target=#TableOfContents data-offset=80>
<div class="container-fluid bg-dimmed wrapper">
<nav class="navbar navbar-expand-xl top-navbar final-navbar shadow">
<div class=container>
<button class="navbar-toggler navbar-light" id=sidebar-toggler type=button onclick=toggleSidebar()>
<span class=navbar-toggler-icon></span>
</button>
<a class=navbar-brand href=/>
<img src=/images/site/main-logo.svg alt=Logo>
Taedi's Log</a>
<button class="navbar-toggler navbar-light" id=toc-toggler type=button onclick=toggleTOC()>
<span class=navbar-toggler-icon></span>
</button>
<div class="collapse navbar-collapse lang-selector" id=top-nav-items>
<ul class="navbar-nav ml-auto">
</ul>
</div>
</div>
<img src=/images/site/main-logo.svg class=d-none id=main-logo alt=Logo>
<img src=/images/site/inverted-logo.svg class=d-none id=inverted-logo alt="Inverted Logo">
</nav>
<section class=sidebar-section id=sidebar-section>
<div class=sidebar-holder>
<div class=sidebar id=sidebar>
<form class=mx-auto method=get action=/search>
<input type=text name=keyword placeholder=Search data-search id=search-box>
</form>
<div class=sidebar-tree>
<ul class=tree id=tree>
<li id=list-heading><a href=/posts data-filter=all>Posts</a></li>
<div class=subtree>
<li><a href=/posts/java/ title=Java>Java</a></li>
<li><a href=/posts/javascript/ title=JavaScript>JavaScript</a></li>
<li><a class=active href=/posts/logs/ title=Logs>Logs</a></li>
<li><a href=/posts/python/ title=Python>Python</a></li>
<li><a href=/posts/server/ title=Server>Server</a></li>
<li><a href=/posts/sql/ title=SQL>SQL</a></li>
<li><a href=/posts/blog/ title=Blog>Blog</a></li>
</div>
</ul>
</div>
</div>
</div>
</section>
<section class=content-section id=content-section>
<div class=content>
<div class="container p-0 read-area">
<div class="hero-area col-sm-12" id=hero-area style=background-image:url(https://log.taedi.net/images/default-hero2.png)>
</div>
<div class=page-content>
<div class="author-profile ml-auto align-self-lg-center">
<img class=rounded-circle src=/images/author/avatar_hue4fa7b2d8e73b32dce85afe643c3f5c5_90375_120x120_fit_box_3.png alt="Author Image">
<h5 class=author-name>Taesoo Kim</h5>
<p>2021년 12월 07일</p>
</div>
<div class=title>
<h1>팀 프로젝트(쇼핑몰 제작) 회고 - 4.DB</h1>
</div>
<div class=taxonomy-terms>
<ul style=padding-inline-start:0>
<li class=rounded><a href=/tags/log class="btn, btn-sm">log</a></li>
</ul>
</div>
<div class=post-content id=post-content>
<p>프로젝트를 진행하면서 가장 찾기 어려웠던 자료가 DB 구조에 대한 부분이었다. 정답이 명확하지도 않거니와 실제 서비스라면 핵심적인 로직이 드러날 수도 있는 부분이라 자료가 크게 없지 않을까 개인적으로 생각해보았다. 그리고 DB를 구현하기 위해서 Flow가 선행되어야 함을 느꼈고 두 과정을 병행하여 진행했던 기억이 있다.</p>
<h2 id=1-db>1. DB</h2>
<p>초기부터 제품 교환에 대한 부분은 고려하지 않았고 논리적인 오류는 그때그때 수정하여 나온 결과지만 여기저기 미흡한 부분이 있을 수 있다.</p>
<h3 id=1-1-erd>1-1. ERD</h3>
<p><img src=images/pic-0001.png alt=taesoo.png></p>
<h3 id=1-2ddl>1-2.DDL</h3>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=color:#75715e>-- project
</span><span style=color:#75715e></span><span style=color:#66d9ef>DROP</span> <span style=color:#66d9ef>SCHEMA</span> <span style=color:#66d9ef>IF</span> <span style=color:#66d9ef>EXISTS</span> <span style=color:#f92672>`</span>project<span style=color:#f92672>`</span>;

<span style=color:#75715e>-- project
</span><span style=color:#75715e></span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>SCHEMA</span> <span style=color:#f92672>`</span>project<span style=color:#f92672>`</span>;

USE <span style=color:#f92672>`</span>project<span style=color:#f92672>`</span>;

<span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> carrier
(
    carrier_no int AUTO_INCREMENT <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;택배사 코드&#39;</span>
        <span style=color:#66d9ef>PRIMARY</span> <span style=color:#66d9ef>KEY</span>,
    name       varchar(<span style=color:#ae81ff>100</span>) <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;택배사 명&#39;</span>,
    biz_no     char(<span style=color:#ae81ff>10</span>)     <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;사업자번호&#39;</span>
)
    <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;택배사&#39;</span>;

<span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> category
(
    category_no int AUTO_INCREMENT <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;카테고리 번호&#39;</span>
        <span style=color:#66d9ef>PRIMARY</span> <span style=color:#66d9ef>KEY</span>,
    title       varchar(<span style=color:#ae81ff>100</span>) <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;카테고리 명&#39;</span>
)
    <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;카테고리&#39;</span>;

<span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> coupon
(
    coupon_no    int AUTO_INCREMENT <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;쿠폰번호&#39;</span>
        <span style=color:#66d9ef>PRIMARY</span> <span style=color:#66d9ef>KEY</span>,
    name         varchar(<span style=color:#ae81ff>100</span>)  <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;쿠폰명&#39;</span>,
    amount       int           <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;정액할인&#39;</span>,
    min_price    int           <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;제품하한가&#39;</span>,
    percent      decimal(<span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>2</span>) <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;정률할인&#39;</span>,
    max_discount int           <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;할인상한가&#39;</span>,
    validity     int           <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;유효기간&#39;</span>
)
    <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;쿠폰&#39;</span>;

<span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> keyword_history
(
    field    varchar(<span style=color:#ae81ff>100</span>)  <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;검색자&#39;</span>,
    keyword  varchar(<span style=color:#ae81ff>5000</span>) <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;키워드&#39;</span>,
    reg_date <span style=color:#66d9ef>timestamp</span>     <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;검색일자&#39;</span>
)
    <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;검색키워드&#39;</span>;

<span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> member
(
    username       varchar(<span style=color:#ae81ff>100</span>)                         <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;아이디&#39;</span>
        <span style=color:#66d9ef>PRIMARY</span> <span style=color:#66d9ef>KEY</span>,
    password        varchar(<span style=color:#ae81ff>500</span>)                        <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;비밀번호&#39;</span>,
    name            varchar(<span style=color:#ae81ff>100</span>)                        <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;이름&#39;</span>,
    email           varchar(<span style=color:#ae81ff>200</span>)                        <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;이메일&#39;</span>,
    email_confirm   tinyint(<span style=color:#ae81ff>1</span>) <span style=color:#66d9ef>DEFAULT</span> <span style=color:#e6db74>&#39;0&#39;</span>              <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;이메일 본인확인&#39;</span>,
    phone           char(<span style=color:#ae81ff>11</span>)                            <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;휴대폰&#39;</span>,
    reg_date        <span style=color:#66d9ef>timestamp</span> <span style=color:#66d9ef>DEFAULT</span> <span style=color:#66d9ef>CURRENT_TIMESTAMP</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;생성일자&#39;</span>,
    withdrawal_date <span style=color:#66d9ef>timestamp</span>                           <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;탈퇴일자&#39;</span>,
    social          tinyint(<span style=color:#ae81ff>1</span>)                          <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;소셜회원 여부&#39;</span>,
    temp_pass       tinyint(<span style=color:#ae81ff>1</span>) <span style=color:#66d9ef>DEFAULT</span> <span style=color:#e6db74>&#39;0&#39;</span>              <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;임시비밀번호여부&#39;</span>,
    enabled         tinyint(<span style=color:#ae81ff>1</span>) <span style=color:#66d9ef>DEFAULT</span> <span style=color:#e6db74>&#39;1&#39;</span>              <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;활성화 상태&#39;</span>
)
    <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;회원&#39;</span>;

<span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> auth
(
    username        varchar(<span style=color:#ae81ff>100</span>)                        <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;아이디&#39;</span>,
    authority       varchar(<span style=color:#ae81ff>50</span>)                         <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;권한&#39;</span>,
    <span style=color:#66d9ef>PRIMARY</span> <span style=color:#66d9ef>KEY</span> (username, authority),
    <span style=color:#66d9ef>CONSTRAINT</span> fk_member_to_auth
        <span style=color:#66d9ef>FOREIGN</span> <span style=color:#66d9ef>KEY</span> (username) <span style=color:#66d9ef>REFERENCES</span> member (username)
)
    <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;권한&#39;</span>;

<span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> persistent_logins
(
    username        varchar(<span style=color:#ae81ff>100</span>)                        <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;아이디&#39;</span>,
    series       varchar(<span style=color:#ae81ff>64</span>)                         <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;시리즈&#39;</span>
        <span style=color:#66d9ef>PRIMARY</span> <span style=color:#66d9ef>KEY</span>,
    token       varchar(<span style=color:#ae81ff>64</span>)                         <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;토큰&#39;</span>,
    last_used       <span style=color:#66d9ef>timestamp</span>                        <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;마지막 사용&#39;</span>
)
    <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;자동 로그인&#39;</span>;

<span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> address
(
    username varchar(<span style=color:#ae81ff>100</span>)                        <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;아이디&#39;</span>,
    title     varchar(<span style=color:#ae81ff>100</span>)                        <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;배송지별칭&#39;</span>,
    zipcode   char(<span style=color:#ae81ff>5</span>)                             <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;우편번호&#39;</span>,
    address1  varchar(<span style=color:#ae81ff>500</span>)                        <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;주소 앞&#39;</span>,
    address2  varchar(<span style=color:#ae81ff>500</span>)                        <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;주소 상세&#39;</span>,
    name      varchar(<span style=color:#ae81ff>100</span>)                        <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;받는분&#39;</span>,
    phone     char(<span style=color:#ae81ff>11</span>)                            <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;휴대폰&#39;</span>,
    reg_date  <span style=color:#66d9ef>timestamp</span> <span style=color:#66d9ef>DEFAULT</span> <span style=color:#66d9ef>CURRENT_TIMESTAMP</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;등록일자&#39;</span>,
    mod_date  <span style=color:#66d9ef>timestamp</span>                           <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>ON</span> <span style=color:#66d9ef>UPDATE</span> <span style=color:#66d9ef>CURRENT_TIMESTAMP</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;수정일자&#39;</span>,
    <span style=color:#66d9ef>CONSTRAINT</span> fk_member_to_address
        <span style=color:#66d9ef>FOREIGN</span> <span style=color:#66d9ef>KEY</span> (username) <span style=color:#66d9ef>REFERENCES</span> member (username)
)
    <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;주소&#39;</span>;

<span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> coupon_history
(
    issue_number bigint AUTO_INCREMENT <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;쿠폰발급번호&#39;</span>,
    coupon_no    int                                 <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;쿠폰번호&#39;</span>,
    username    varchar(<span style=color:#ae81ff>100</span>)                        <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;아이디&#39;</span>,
    reg_date     <span style=color:#66d9ef>timestamp</span> <span style=color:#66d9ef>DEFAULT</span> <span style=color:#66d9ef>CURRENT_TIMESTAMP</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;발급일자&#39;</span>,
    expire_date  <span style=color:#66d9ef>timestamp</span>                           <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;만료일자&#39;</span>,
    use_date     <span style=color:#66d9ef>timestamp</span>                           <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;사용일자&#39;</span>,
    use_order    bigint                              <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;사용주문&#39;</span>,
    <span style=color:#66d9ef>PRIMARY</span> <span style=color:#66d9ef>KEY</span> (issue_number, coupon_no, username),
    <span style=color:#66d9ef>CONSTRAINT</span> fk_coupon_to_coupon_history
        <span style=color:#66d9ef>FOREIGN</span> <span style=color:#66d9ef>KEY</span> (coupon_no) <span style=color:#66d9ef>REFERENCES</span> coupon (coupon_no),
    <span style=color:#66d9ef>CONSTRAINT</span> fk_member_to_coupon_history
        <span style=color:#66d9ef>FOREIGN</span> <span style=color:#66d9ef>KEY</span> (username) <span style=color:#66d9ef>REFERENCES</span> member (username)
)
    <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;쿠폰발급이력&#39;</span>;

<span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> non_member
(
    non_username varchar(<span style=color:#ae81ff>100</span>)                        <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;임시아이디&#39;</span>
        <span style=color:#66d9ef>PRIMARY</span> <span style=color:#66d9ef>KEY</span>,
    password      varchar(<span style=color:#ae81ff>500</span>)                        <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;주문확인비번&#39;</span>,
    name          varchar(<span style=color:#ae81ff>100</span>)                        <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;이름&#39;</span>,
    email         varchar(<span style=color:#ae81ff>200</span>)                        <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;이메일&#39;</span>,
    phone         char(<span style=color:#ae81ff>11</span>)                            <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;핸드폰&#39;</span>,
    reg_date      <span style=color:#66d9ef>timestamp</span> <span style=color:#66d9ef>DEFAULT</span> <span style=color:#66d9ef>CURRENT_TIMESTAMP</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;등록일자&#39;</span>
)
    <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;비회원&#39;</span>;

<span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> <span style=color:#f92672>`</span><span style=color:#66d9ef>order</span><span style=color:#f92672>`</span>
(
    order_no      bigint                              <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;주문번호&#39;</span>
        <span style=color:#66d9ef>PRIMARY</span> <span style=color:#66d9ef>KEY</span>,
    username     varchar(<span style=color:#ae81ff>100</span>)                        <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;회원아이디&#39;</span>,
    non_username varchar(<span style=color:#ae81ff>100</span>)                        <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;비회원아이디&#39;</span>,
    zipcode       char(<span style=color:#ae81ff>5</span>)                             <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;우편번호&#39;</span>,
    address1      varchar(<span style=color:#ae81ff>500</span>)                        <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;주소 앞&#39;</span>,
    address2      varchar(<span style=color:#ae81ff>500</span>)                        <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;주소 상세&#39;</span>,
    name          varchar(<span style=color:#ae81ff>100</span>)                        <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;받는분&#39;</span>,
    phone         char(<span style=color:#ae81ff>11</span>)                            <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;휴대폰&#39;</span>,
    reg_date      <span style=color:#66d9ef>timestamp</span> <span style=color:#66d9ef>DEFAULT</span> <span style=color:#66d9ef>CURRENT_TIMESTAMP</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;생성일자&#39;</span>,
    point         int                                 <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;포인트 사용액&#39;</span>,
    status        varchar(<span style=color:#ae81ff>50</span>)                         <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;주문상태&#39;</span>,
    <span style=color:#66d9ef>CONSTRAINT</span> fk_member_to_order
        <span style=color:#66d9ef>FOREIGN</span> <span style=color:#66d9ef>KEY</span> (username) <span style=color:#66d9ef>REFERENCES</span> member (username),
    <span style=color:#66d9ef>CONSTRAINT</span> fk_non_member_to_order
        <span style=color:#66d9ef>FOREIGN</span> <span style=color:#66d9ef>KEY</span> (non_username) <span style=color:#66d9ef>REFERENCES</span> non_member (non_username)
)
    <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;주문&#39;</span>;

<span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> pass_history
(
    username varchar(<span style=color:#ae81ff>100</span>)                        <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;아이디&#39;</span>,
    password  varchar(<span style=color:#ae81ff>500</span>)                        <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;비밀번호&#39;</span>,
    reg_date  <span style=color:#66d9ef>timestamp</span> <span style=color:#66d9ef>DEFAULT</span> <span style=color:#66d9ef>CURRENT_TIMESTAMP</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;설정일자&#39;</span>,
    <span style=color:#66d9ef>CONSTRAINT</span> fk_member_to_pass_history
        <span style=color:#66d9ef>FOREIGN</span> <span style=color:#66d9ef>KEY</span> (username) <span style=color:#66d9ef>REFERENCES</span> member (username)
)
    <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;pass_history&#39;</span>;

<span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> payment
(
    payment_no bigint AUTO_INCREMENT <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;번호&#39;</span>
        <span style=color:#66d9ef>PRIMARY</span> <span style=color:#66d9ef>KEY</span>,
    sort       varchar(<span style=color:#ae81ff>50</span>)                         <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;결제구분&#39;</span>,
    <span style=color:#66d9ef>method</span>     varchar(<span style=color:#ae81ff>50</span>)                         <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;지불방식&#39;</span>,
    order_no   bigint                              <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;주문번호&#39;</span>,
    uid        varchar(<span style=color:#ae81ff>50</span>)                         <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;pg사 결제번호&#39;</span>,
    amount     int                                 <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;결제금액&#39;</span>,
    reg_date   <span style=color:#66d9ef>timestamp</span> <span style=color:#66d9ef>DEFAULT</span> <span style=color:#66d9ef>CURRENT_TIMESTAMP</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;결제일자&#39;</span>,
    <span style=color:#66d9ef>CONSTRAINT</span> fk_order_to_payment
        <span style=color:#66d9ef>FOREIGN</span> <span style=color:#66d9ef>KEY</span> (order_no) <span style=color:#66d9ef>REFERENCES</span> <span style=color:#f92672>`</span><span style=color:#66d9ef>order</span><span style=color:#f92672>`</span> (order_no)
)
    <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;결제환불&#39;</span>;

<span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> point
(
    point_no  bigint AUTO_INCREMENT <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;포인트 번호&#39;</span>
        <span style=color:#66d9ef>PRIMARY</span> <span style=color:#66d9ef>KEY</span>,
    username     varchar(<span style=color:#ae81ff>100</span>)                        <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;아이디&#39;</span>,
    point         int                                 <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;포인트&#39;</span>,
    order_item_no bigint                              <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;주문상품번호&#39;</span>,
    review_no     bigint                              <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;리뷰번호&#39;</span>,
    reg_date      <span style=color:#66d9ef>timestamp</span> <span style=color:#66d9ef>DEFAULT</span> <span style=color:#66d9ef>CURRENT_TIMESTAMP</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;적립일&#39;</span>,
    exp_date      <span style=color:#66d9ef>timestamp</span>                           <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;만료일&#39;</span>,
    <span style=color:#66d9ef>CONSTRAINT</span> fk_member_to_point
        <span style=color:#66d9ef>FOREIGN</span> <span style=color:#66d9ef>KEY</span> (username) <span style=color:#66d9ef>REFERENCES</span> member (username)
)
    <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;포인트&#39;</span>;

<span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> privacy_policy
(
    policy_no       int AUTO_INCREMENT <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;번호&#39;</span>
        <span style=color:#66d9ef>PRIMARY</span> <span style=color:#66d9ef>KEY</span>,
    text     varchar(<span style=color:#ae81ff>10000</span>)                      <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;내용&#39;</span>,
    reg_date <span style=color:#66d9ef>timestamp</span> <span style=color:#66d9ef>DEFAULT</span> <span style=color:#66d9ef>CURRENT_TIMESTAMP</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;작성일&#39;</span>
)
    <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;개인정보 처리 방침&#39;</span>;

<span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>table</span> privacy_agreement
(
    username   varchar(<span style=color:#ae81ff>100</span>)                        <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;동의자 아이디&#39;</span>,
    policy_no   int                                 <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;약관번호&#39;</span>,
    reg_date    <span style=color:#66d9ef>timestamp</span> <span style=color:#66d9ef>DEFAULT</span> <span style=color:#66d9ef>CURRENT_TIMESTAMP</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;동의일자&#39;</span>,
    <span style=color:#66d9ef>PRIMARY</span> <span style=color:#66d9ef>KEY</span> (username, policy_no),
    <span style=color:#66d9ef>CONSTRAINT</span> fk_member_to_privacy_agreement
        <span style=color:#66d9ef>FOREIGN</span> <span style=color:#66d9ef>KEY</span> (username) <span style=color:#66d9ef>REFERENCES</span> member (username),
    <span style=color:#66d9ef>CONSTRAINT</span> fk_privacy_policy_to_privacy_agreement
        <span style=color:#66d9ef>FOREIGN</span> <span style=color:#66d9ef>KEY</span> (policy_no) <span style=color:#66d9ef>REFERENCES</span> privacy_policy (policy_no)
)
    <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;개인정보 처리 방침 동의 내역&#39;</span>;

<span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> product_info_announce
(
    pia_no   int AUTO_INCREMENT <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;고시_번호&#39;</span>
        <span style=color:#66d9ef>PRIMARY</span> <span style=color:#66d9ef>KEY</span>,
    title    varchar(<span style=color:#ae81ff>100</span>)                        <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;템플릿 명&#39;</span>,
    text     varchar(<span style=color:#ae81ff>5000</span>)                       <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;내용&#39;</span>,
    reg_date <span style=color:#66d9ef>timestamp</span> <span style=color:#66d9ef>DEFAULT</span> <span style=color:#66d9ef>CURRENT_TIMESTAMP</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;작성일&#39;</span>
)
    <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;상품정보제공고시&#39;</span>;

<span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> item
(
    item_no        int AUTO_INCREMENT <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;상품번호&#39;</span>
        <span style=color:#66d9ef>PRIMARY</span> <span style=color:#66d9ef>KEY</span>,
    category_no    int            <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;카테고리번호&#39;</span>,
    name           varchar(<span style=color:#ae81ff>100</span>)   <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;상품명&#39;</span>,
    price          int            <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;가격&#39;</span>,
    discount       int            <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;할인_가격&#39;</span>,
    start_discount <span style=color:#66d9ef>timestamp</span>      <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;할인_시작일&#39;</span>,
    end_discount   <span style=color:#66d9ef>timestamp</span>      <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;할인_종료일&#39;</span>,
    title          varchar(<span style=color:#ae81ff>100</span>)   <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;제목&#39;</span>,
    text           varchar(<span style=color:#ae81ff>10000</span>) <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;내용&#39;</span>,
    image          varchar(<span style=color:#ae81ff>200</span>)  <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>UNIQUE</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;상품이미지&#39;</span>,
    pia_no         int            <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;상품정보제공고시_번호&#39;</span>,
    coupon_allow   tinyint(<span style=color:#ae81ff>1</span>)     <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;쿠폰할인가능여부&#39;</span>,
    hide           tinyint(<span style=color:#ae81ff>1</span>)     <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;상품숨기기&#39;</span>,
    reg_date       <span style=color:#66d9ef>timestamp</span> <span style=color:#66d9ef>DEFAULT</span> <span style=color:#66d9ef>CURRENT_TIMESTAMP</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;작성일자&#39;</span>,
    mod_date       <span style=color:#66d9ef>timestamp</span>      <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>ON</span> <span style=color:#66d9ef>UPDATE</span> <span style=color:#66d9ef>CURRENT_TIMESTAMP</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;수정일자&#39;</span>,
    username       varchar(<span style=color:#ae81ff>100</span>)   <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;작성자&#39;</span>,
    publish        tinyint(<span style=color:#ae81ff>1</span>)     <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;발행여부&#39;</span>,
    <span style=color:#66d9ef>CONSTRAINT</span> fk_category_to_item
        <span style=color:#66d9ef>FOREIGN</span> <span style=color:#66d9ef>KEY</span> (category_no) <span style=color:#66d9ef>REFERENCES</span> category (category_no)
            <span style=color:#66d9ef>ON</span> <span style=color:#66d9ef>UPDATE</span> <span style=color:#66d9ef>CASCADE</span>,
    <span style=color:#66d9ef>CONSTRAINT</span> fk_product_info_announce_to_item
        <span style=color:#66d9ef>FOREIGN</span> <span style=color:#66d9ef>KEY</span> (pia_no) <span style=color:#66d9ef>REFERENCES</span> product_info_announce (pia_no)
            <span style=color:#66d9ef>ON</span> <span style=color:#66d9ef>UPDATE</span> <span style=color:#66d9ef>CASCADE</span>,
    <span style=color:#66d9ef>CONSTRAINT</span> fk_member_to_item
        <span style=color:#66d9ef>FOREIGN</span> <span style=color:#66d9ef>KEY</span> (username) <span style=color:#66d9ef>REFERENCES</span> member (username)
)
    <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;상품정보&#39;</span>;

<span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> <span style=color:#f92672>`</span><span style=color:#66d9ef>option</span><span style=color:#f92672>`</span>
(
    option_no    bigint AUTO_INCREMENT <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;옵션번호&#39;</span>,
    item_no      int          <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;상품번호&#39;</span>,
    name         varchar(<span style=color:#ae81ff>100</span>) <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;옵션명&#39;</span>,
    option_price int          <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;추가금액&#39;</span>,
    stock        int          <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;재고수량&#39;</span>,
    <span style=color:#66d9ef>PRIMARY</span> <span style=color:#66d9ef>KEY</span> (option_no, item_no),
    <span style=color:#66d9ef>CONSTRAINT</span> fk_item_to_option
        <span style=color:#66d9ef>FOREIGN</span> <span style=color:#66d9ef>KEY</span> (item_no) <span style=color:#66d9ef>REFERENCES</span> item (item_no)
            <span style=color:#66d9ef>ON</span> <span style=color:#66d9ef>UPDATE</span> <span style=color:#66d9ef>CASCADE</span>
            <span style=color:#66d9ef>ON</span> <span style=color:#66d9ef>DELETE</span> <span style=color:#66d9ef>CASCADE</span>
)
    <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;상품옵션&#39;</span>;

<span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> cart
(
    cart_no  bigint AUTO_INCREMENT <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;장바구니 번호&#39;</span>
        <span style=color:#66d9ef>PRIMARY</span> <span style=color:#66d9ef>KEY</span>,
    username   varchar(<span style=color:#ae81ff>100</span>)                        <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;아이디&#39;</span>,
    option_no   bigint                              <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;옵션번호&#39;</span>,
    item_no     int                                 <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;상품번호&#39;</span>,
    quantity    int                                 <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;수량&#39;</span>,
    reg_date    <span style=color:#66d9ef>timestamp</span> <span style=color:#66d9ef>DEFAULT</span> <span style=color:#66d9ef>CURRENT_TIMESTAMP</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;등록일자&#39;</span>,
    mod_date    <span style=color:#66d9ef>timestamp</span>                           <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>ON</span> <span style=color:#66d9ef>UPDATE</span> <span style=color:#66d9ef>CURRENT_TIMESTAMP</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;수정일자&#39;</span>,
    <span style=color:#66d9ef>CONSTRAINT</span> fk_member_to_cart
        <span style=color:#66d9ef>FOREIGN</span> <span style=color:#66d9ef>KEY</span> (username) <span style=color:#66d9ef>REFERENCES</span> member (username),
    <span style=color:#66d9ef>CONSTRAINT</span> fk_option_to_cart
        <span style=color:#66d9ef>FOREIGN</span> <span style=color:#66d9ef>KEY</span> (option_no, item_no) <span style=color:#66d9ef>REFERENCES</span> <span style=color:#f92672>`</span><span style=color:#66d9ef>option</span><span style=color:#f92672>`</span> (option_no, item_no)
            <span style=color:#66d9ef>ON</span> <span style=color:#66d9ef>DELETE</span> <span style=color:#66d9ef>CASCADE</span>
            <span style=color:#66d9ef>ON</span> <span style=color:#66d9ef>UPDATE</span> <span style=color:#66d9ef>CASCADE</span>
)
    <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;장바구니&#39;</span>;

<span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> question
(
    question_no     bigint AUTO_INCREMENT <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;질문번호&#39;</span>,
    username       varchar(<span style=color:#ae81ff>100</span>)                        <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;아이디&#39;</span>,
    item_no         int                                 <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;상품번호&#39;</span>,
    title           varchar(<span style=color:#ae81ff>100</span>)                        <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;제목&#39;</span>,
    secret          tinyint(<span style=color:#ae81ff>1</span>)                          <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;비밀글여부&#39;</span>,
    text            varchar(<span style=color:#ae81ff>5000</span>)                       <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;내용&#39;</span>,
    reg_date        <span style=color:#66d9ef>timestamp</span> <span style=color:#66d9ef>DEFAULT</span> <span style=color:#66d9ef>CURRENT_TIMESTAMP</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;작성일&#39;</span>,
    answer_title    varchar(<span style=color:#ae81ff>100</span>)                        <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;답변_제목&#39;</span>,
    answer_text     varchar(<span style=color:#ae81ff>5000</span>)                       <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;답변_내용&#39;</span>,
    answer_id       varchar(<span style=color:#ae81ff>100</span>)                        <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;답변_작성자&#39;</span>,
    answer_reg_date <span style=color:#66d9ef>timestamp</span>                           <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;답변_작성일&#39;</span>,
    <span style=color:#66d9ef>PRIMARY</span> <span style=color:#66d9ef>KEY</span> (question_no, username),
    <span style=color:#66d9ef>CONSTRAINT</span> fk_item_to_question
        <span style=color:#66d9ef>FOREIGN</span> <span style=color:#66d9ef>KEY</span> (item_no) <span style=color:#66d9ef>REFERENCES</span> item (item_no)
            <span style=color:#66d9ef>ON</span> <span style=color:#66d9ef>UPDATE</span> <span style=color:#66d9ef>CASCADE</span>
            <span style=color:#66d9ef>ON</span> <span style=color:#66d9ef>DELETE</span> <span style=color:#66d9ef>SET</span> <span style=color:#66d9ef>NULL</span>,
    <span style=color:#66d9ef>CONSTRAINT</span> fk_member_to_question
        <span style=color:#66d9ef>FOREIGN</span> <span style=color:#66d9ef>KEY</span> (username) <span style=color:#66d9ef>REFERENCES</span> member (username)
)
    <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;질문답변&#39;</span>;

<span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> return_option
(
    return_option_code int AUTO_INCREMENT <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;반품_코드&#39;</span>
        <span style=color:#66d9ef>PRIMARY</span> <span style=color:#66d9ef>KEY</span>,
    reason             varchar(<span style=color:#ae81ff>50</span>)   <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;반품_사유&#39;</span>,
    return_free        tinyint(<span style=color:#ae81ff>1</span>)    <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;배송비 면제&#39;</span>,
    <span style=color:#66d9ef>comment</span>            varchar(<span style=color:#ae81ff>5000</span>) <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;비고&#39;</span>
)
    <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;반품사유&#39;</span>;

<span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> order_item
(
    order_item_no       bigint AUTO_INCREMENT <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;주문상품번호&#39;</span>,
    order_no            bigint    <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;주문번호&#39;</span>,
    item_no             int       <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;상품번호&#39;</span>,
    option_no           bigint    <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;옵션번호&#39;</span>,
    option_name         varchar(<span style=color:#ae81ff>100</span>)    <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;옵션명&#39;</span>,
    issue_number        bigint    <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;쿠폰발급번호&#39;</span>,
    coupon_no           int       <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;쿠폰번호&#39;</span>,
    price_item          int       <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;상품 금액&#39;</span>,
    price_option        int       <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;옵션 금액&#39;</span>,
    price_coupon        int       <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;할인 금액&#39;</span>,
    prepare_date        <span style=color:#66d9ef>timestamp</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;배송_준비일&#39;</span>,
    delivery_carrier_no int       <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;택배사번호&#39;</span>,
    tracking_number     int       <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;배송_운송장번호&#39;</span>,
    delivery_start_date <span style=color:#66d9ef>timestamp</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;배송_운송장등록일&#39;</span>,
    delivery_end_date   <span style=color:#66d9ef>timestamp</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;배송_완료일&#39;</span>,
    confirm_date        <span style=color:#66d9ef>timestamp</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;구매_확정일&#39;</span>,
    cancel_date         <span style=color:#66d9ef>timestamp</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;취소_요청일&#39;</span>,
    return_date         <span style=color:#66d9ef>timestamp</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;반품_요청일&#39;</span>,
    return_carrier_no   int       <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;반품_택배사번호&#39;</span>,
    return_number       <span style=color:#66d9ef>timestamp</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;반품_운송장&#39;</span>,
    return_confirm_date <span style=color:#66d9ef>timestamp</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;반품_처리일&#39;</span>,
    return_option_code  int       <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;반품_코드&#39;</span>,
    refund_date         <span style=color:#66d9ef>timestamp</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;환불_일자&#39;</span>,
    <span style=color:#66d9ef>PRIMARY</span> <span style=color:#66d9ef>KEY</span> (order_item_no, order_no),
    <span style=color:#66d9ef>CONSTRAINT</span> fk_carrier_to_order_item
        <span style=color:#66d9ef>FOREIGN</span> <span style=color:#66d9ef>KEY</span> (delivery_carrier_no) <span style=color:#66d9ef>REFERENCES</span> carrier (carrier_no)
            <span style=color:#66d9ef>ON</span> <span style=color:#66d9ef>UPDATE</span> <span style=color:#66d9ef>CASCADE</span>,
    <span style=color:#66d9ef>CONSTRAINT</span> fk_coupon_history_to_order_item
        <span style=color:#66d9ef>FOREIGN</span> <span style=color:#66d9ef>KEY</span> (issue_number, coupon_no) <span style=color:#66d9ef>REFERENCES</span> coupon_history (issue_number, coupon_no)
            <span style=color:#66d9ef>ON</span> <span style=color:#66d9ef>UPDATE</span> <span style=color:#66d9ef>CASCADE</span>,
    <span style=color:#66d9ef>CONSTRAINT</span> fk_option_to_order_item
        <span style=color:#66d9ef>FOREIGN</span> <span style=color:#66d9ef>KEY</span> (option_no, item_no) <span style=color:#66d9ef>REFERENCES</span> <span style=color:#f92672>`</span><span style=color:#66d9ef>option</span><span style=color:#f92672>`</span> (option_no, item_no)
            <span style=color:#66d9ef>ON</span> <span style=color:#66d9ef>UPDATE</span> <span style=color:#66d9ef>CASCADE</span>
            <span style=color:#66d9ef>ON</span> <span style=color:#66d9ef>DELETE</span> <span style=color:#66d9ef>SET</span> <span style=color:#66d9ef>NULL</span>,
    <span style=color:#66d9ef>CONSTRAINT</span> fk_order_to_order_item
        <span style=color:#66d9ef>FOREIGN</span> <span style=color:#66d9ef>KEY</span> (order_no) <span style=color:#66d9ef>REFERENCES</span> <span style=color:#f92672>`</span><span style=color:#66d9ef>order</span><span style=color:#f92672>`</span> (order_no)
            <span style=color:#66d9ef>ON</span> <span style=color:#66d9ef>UPDATE</span> <span style=color:#66d9ef>CASCADE</span>,
    <span style=color:#66d9ef>CONSTRAINT</span> fk_return_option_to_order_item
        <span style=color:#66d9ef>FOREIGN</span> <span style=color:#66d9ef>KEY</span> (return_option_code) <span style=color:#66d9ef>REFERENCES</span> return_option (return_option_code)
            <span style=color:#66d9ef>ON</span> <span style=color:#66d9ef>UPDATE</span> <span style=color:#66d9ef>CASCADE</span>
)
    <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;주문상품&#39;</span>;

<span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> review
(
    review_no       bigint AUTO_INCREMENT <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;리뷰번호&#39;</span>,
    order_item_no   bigint                              <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;주문상품번호&#39;</span>,
    order_no        bigint                              <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;주문번호&#39;</span>,
    username       varchar(<span style=color:#ae81ff>100</span>)                        <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;아이디&#39;</span>,
    star            int                                 <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;별점&#39;</span>,
    text            varchar(<span style=color:#ae81ff>5000</span>)                       <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;내용&#39;</span>,
    title           varchar(<span style=color:#ae81ff>100</span>)                        <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;제목&#39;</span>,
    reg_date        <span style=color:#66d9ef>timestamp</span> <span style=color:#66d9ef>DEFAULT</span> <span style=color:#66d9ef>CURRENT_TIMESTAMP</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;작성일&#39;</span>,
    mod_date        <span style=color:#66d9ef>timestamp</span>                           <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>ON</span> <span style=color:#66d9ef>UPDATE</span> <span style=color:#66d9ef>CURRENT_TIMESTAMP</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;수정일&#39;</span>,
    answer_text     varchar(<span style=color:#ae81ff>5000</span>)                       <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;답변 내용&#39;</span>,
    answer_id       varchar(<span style=color:#ae81ff>100</span>)                        <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;답변 담당자&#39;</span>,
    answer_reg_date <span style=color:#66d9ef>timestamp</span>                           <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;답변 작성일&#39;</span>,
    answer_mod_date <span style=color:#66d9ef>timestamp</span>                           <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;답변 수정일&#39;</span>,
    <span style=color:#66d9ef>PRIMARY</span> <span style=color:#66d9ef>KEY</span> (review_no, order_item_no, order_no),
    <span style=color:#66d9ef>CONSTRAINT</span> fk_member_to_review
        <span style=color:#66d9ef>FOREIGN</span> <span style=color:#66d9ef>KEY</span> (username) <span style=color:#66d9ef>REFERENCES</span> member (username),
    <span style=color:#66d9ef>CONSTRAINT</span> fk_order_item_to_review
        <span style=color:#66d9ef>FOREIGN</span> <span style=color:#66d9ef>KEY</span> (order_item_no, order_no) <span style=color:#66d9ef>REFERENCES</span> order_item (order_item_no, order_no)
)
    <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;리뷰&#39;</span>;

<span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> <span style=color:#f92672>`</span><span style=color:#66d9ef>like</span><span style=color:#f92672>`</span>
(
    review_no bigint       <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;리뷰번호&#39;</span>,
    username varchar(<span style=color:#ae81ff>100</span>) <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;아이디&#39;</span>,
    reg_date  <span style=color:#66d9ef>timestamp</span>    <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;일자&#39;</span>,
    <span style=color:#66d9ef>PRIMARY</span> <span style=color:#66d9ef>KEY</span> (review_no, username),
    <span style=color:#66d9ef>CONSTRAINT</span> fk_member_to_like
        <span style=color:#66d9ef>FOREIGN</span> <span style=color:#66d9ef>KEY</span> (username) <span style=color:#66d9ef>REFERENCES</span> member (username),
    <span style=color:#66d9ef>CONSTRAINT</span> fk_review_to_like
        <span style=color:#66d9ef>FOREIGN</span> <span style=color:#66d9ef>KEY</span> (review_no) <span style=color:#66d9ef>REFERENCES</span> review (review_no)
            <span style=color:#66d9ef>ON</span> <span style=color:#66d9ef>UPDATE</span> <span style=color:#66d9ef>CASCADE</span>
            <span style=color:#66d9ef>ON</span> <span style=color:#66d9ef>DELETE</span> <span style=color:#66d9ef>CASCADE</span>
)
    <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;좋아요&#39;</span>;

<span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> review_comment
(
    comment_no    bigint AUTO_INCREMENT <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;댓글번호&#39;</span>
        <span style=color:#66d9ef>PRIMARY</span> <span style=color:#66d9ef>KEY</span>,
    order_item_no bigint                              <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;주문상품번호&#39;</span>,
    review_no     bigint                              <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;리뷰번호&#39;</span>,
    username      varchar(<span style=color:#ae81ff>100</span>)                        <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;아이디&#39;</span>,
    text          varchar(<span style=color:#ae81ff>5000</span>)                       <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;내용&#39;</span>,
    reg_date      <span style=color:#66d9ef>timestamp</span> <span style=color:#66d9ef>DEFAULT</span> <span style=color:#66d9ef>CURRENT_TIMESTAMP</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;작성일자&#39;</span>,
    mod_date      <span style=color:#66d9ef>timestamp</span>                           <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>ON</span> <span style=color:#66d9ef>UPDATE</span> <span style=color:#66d9ef>CURRENT_TIMESTAMP</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;수정일자&#39;</span>,
    order_no      bigint                              <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;주문번호&#39;</span>,
    <span style=color:#66d9ef>CONSTRAINT</span> fk_member_to_review_comment
        <span style=color:#66d9ef>FOREIGN</span> <span style=color:#66d9ef>KEY</span> (username) <span style=color:#66d9ef>REFERENCES</span> member (username)
            <span style=color:#66d9ef>ON</span> <span style=color:#66d9ef>UPDATE</span> <span style=color:#66d9ef>CASCADE</span>
            <span style=color:#66d9ef>ON</span> <span style=color:#66d9ef>DELETE</span> <span style=color:#66d9ef>CASCADE</span>,
    <span style=color:#66d9ef>CONSTRAINT</span> fk_review_to_review_comment
        <span style=color:#66d9ef>FOREIGN</span> <span style=color:#66d9ef>KEY</span> (review_no) <span style=color:#66d9ef>REFERENCES</span> review (review_no)
)
    <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;리뷰댓글&#39;</span>;

<span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> review_template
(
    <span style=color:#66d9ef>no</span>       int AUTO_INCREMENT <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;번호&#39;</span>
        <span style=color:#66d9ef>PRIMARY</span> <span style=color:#66d9ef>KEY</span>,
    name     varchar(<span style=color:#ae81ff>100</span>)                        <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;별칭&#39;</span>,
    text     varchar(<span style=color:#ae81ff>5000</span>)                       <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;내용&#39;</span>,
    reg_date <span style=color:#66d9ef>timestamp</span> <span style=color:#66d9ef>DEFAULT</span> <span style=color:#66d9ef>CURRENT_TIMESTAMP</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;작성일&#39;</span>,
    mod_date <span style=color:#66d9ef>timestamp</span>                           <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>ON</span> <span style=color:#66d9ef>UPDATE</span> <span style=color:#66d9ef>CURRENT_TIMESTAMP</span> <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;수정일&#39;</span>
)
    <span style=color:#66d9ef>COMMENT</span> <span style=color:#e6db74>&#39;리뷰 답변 템플릿&#39;</span>;
</code></pre></div>
</div>
<hr>
<div class="row next-prev-navigator">
<div class="col-md-6 previous-article">
<a href=/yi-teamproject-log-3/ title="팀 프로젝트(쇼핑몰 제작) 회고 - 3.코딩 컨벤션" class="btn btn-outline-info">
<div><i class="fas fa-chevron-circle-left"></i> 이전</div>
<div class=next-prev-text>팀 프로젝트(쇼핑몰 제작) 회고 - 3.코딩 컨벤션</div>
</a>
</div>
<div class="col-md-6 next-article">
<a href=/yi-teamproject-log-5/ title="팀 프로젝트 회고 - 5.Flow(회원가입&로그인)" class="btn btn-outline-info">
<div>다음 <i class="fas fa-chevron-circle-right"></i></div>
<div class=next-prev-text>팀 프로젝트 회고 - 5.Flow(회원가입&로그인)</div>
</a>
</div>
</div>
<hr>
<div class=utterances></div>
<script src=https://utteranc.es/client.js repo=taedi90/blog_comments issue-term=pathname theme=github-light crossorigin=anonymous defer></script>
</div>
</div>
</div>
<a id=scroll-to-top class=btn><i class="fas fa-chevron-circle-up"></i></a>
</section>
<section class=toc-section id=toc-section>
<div class=toc-holder>
<h5 class="text-center pl-3">List</h5>
<hr>
<div class=toc>
<nav id=TableOfContents>
<ul>
<li><a href=#1-db>1. DB</a>
<ul>
<li><a href=#1-1-erd>1-1. ERD</a></li>
<li><a href=#1-2ddl>1-2.DDL</a></li>
</ul>
</li>
</ul>
</nav>
</div>
</div>
</section>
</div>
<footer class="container-fluid text-center align-content-center footer pb-2">
<div class="container pt-5">
<div class="row text-left">
<div class="col-md-4 col-sm-12">
<h5>Contact</h5>
<ul>
<li><span>Email: </span> <a href=mailto:taedi90@gmail.com><span>taedi90@gmail.com</span></a></li>
<li><span>Github: </span> <a href=https://github.com/taedi90><span>https://github.com/taedi90</span></a></li>
</ul>
</div>
</div>
</div>
</footer>
<script type=text/javascript src=/js/jquery-3.4.1.min.js></script>
<script type=text/javascript src=/js/popper.min.js></script>
<script type=text/javascript src=/js/bootstrap.min.js></script>
<script type=text/javascript src=/js/navbar.js></script>
<script type=text/javascript src=/js/plyr.js></script>
<script type=text/javascript src=/js/main.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js></script>
<script src=/js/single.js></script>
<script>hljs.initHighlightingOnLoad()</script>
<script>$(document).ready(function(){$('p').has('img').css('text-align','center')})</script>
</body>
</html>