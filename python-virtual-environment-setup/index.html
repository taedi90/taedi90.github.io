<!doctype html><html>
<head>
<title>파이썬 가상환경 설정(pyenv, pipenv)</title>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta http-equiv=x-ua-compatible content="ie=edge">
<link rel=stylesheet href=/css/bootstrap.min.css>
<link rel=stylesheet href=/css/layouts/main.css>
<link rel=stylesheet href=/css/navigators/navbar.css>
<link rel=stylesheet href=/css/plyr.css>
<link rel=stylesheet href=/css/flag-icon.min.css>
<link href="https://fonts.googleapis.com/css2?family=Muli:wght@300;400;500;600" rel=stylesheet>
<link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css>
<script defer src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1882367656929494" crossorigin=anonymous></script>
<link rel=icon type=image/png href=/images/site/favicon.svg>
<meta property="og:title" content="파이썬 가상환경 설정(pyenv, pipenv)">
<meta property="og:description" content="파이썬 가상환경 설정을 위해 pyenv, pipenv 사용법을 알아보았다.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://log.taedi.net/python-virtual-environment-setup/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2021-09-18T00:00:00+09:00">
<meta property="article:modified_time" content="2021-10-17T15:50:00+09:00">
<meta name=description content="파이썬 가상환경 설정을 위해 pyenv, pipenv 사용법을 알아보았다.">
<link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/atom-one-dark.min.css>
<link rel=stylesheet href=/css/layouts/single.css>
<link rel=stylesheet href=/css/navigators/sidebar.css>
<link rel=stylesheet href=/css/style.css>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-52CHZ4CKK9"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-52CHZ4CKK9',{anonymize_ip:!1})}</script>
</head>
<body data-spy=scroll data-target=#TableOfContents data-offset=80>
<div class="container-fluid bg-dimmed wrapper">
<nav class="navbar navbar-expand-xl top-navbar final-navbar shadow">
<div class=container>
<button class="navbar-toggler navbar-light" id=sidebar-toggler type=button onclick=toggleSidebar()>
<span class=navbar-toggler-icon></span>
</button>
<a class=navbar-brand href=/>
<img src=/images/site/main-logo.svg alt=Logo>
Taedi's Log</a>
<button class="navbar-toggler navbar-light" id=toc-toggler type=button onclick=toggleTOC()>
<span class=navbar-toggler-icon></span>
</button>
<div class="collapse navbar-collapse lang-selector" id=top-nav-items>
<ul class="navbar-nav ml-auto">
</ul>
</div>
</div>
<img src=/images/site/main-logo.svg class=d-none id=main-logo alt=Logo>
<img src=/images/site/inverted-logo.svg class=d-none id=inverted-logo alt="Inverted Logo">
</nav>
<section class=sidebar-section id=sidebar-section>
<div class=sidebar-holder>
<div class=sidebar id=sidebar>
<form class=mx-auto method=get action=/search>
<input type=text name=keyword placeholder=Search data-search id=search-box>
</form>
<div class=sidebar-tree>
<ul class=tree id=tree>
<li id=list-heading><a href=/posts data-filter=all>Posts</a></li>
<div class=subtree>
<li><a href=/posts/java/ title=java>java</a></li>
<li><a class=active href=/posts/python/ title=python>python</a></li>
<li><a href=/posts/blog/ title=blog>blog</a></li>
</div>
</ul>
</div>
</div>
</div>
</section>
<section class=content-section id=content-section>
<div class=content>
<div class="container p-0 read-area">
<div class="hero-area col-sm-12" id=hero-area style=background-image:url(https://log.taedi.net/images/hero/python.png)>
</div>
<div class=page-content>
<div class="author-profile ml-auto align-self-lg-center">
<img class=rounded-circle src=/images/author/avatar_hue4fa7b2d8e73b32dce85afe643c3f5c5_90375_120x120_fit_box_3.png alt="Author Image">
<h5 class=author-name>Taesoo Kim</h5>
<p>2021년 09월 18일</p>
</div>
<div class=title>
<h1>파이썬 가상환경 설정(pyenv, pipenv)</h1>
</div>
<div class=taxonomy-terms>
<ul style=padding-inline-start:0>
<li class=rounded><a href=/tags/pip class="btn, btn-sm">pip</a></li>
<li class=rounded><a href=/tags/pipenv class="btn, btn-sm">pipenv</a></li>
<li class=rounded><a href=/tags/pyenv class="btn, btn-sm">pyenv</a></li>
<li class=rounded><a href=/tags/python class="btn, btn-sm">python</a></li>
</ul>
</div>
<div class=post-content id=post-content>
<p>오랜만에 파이썬을 사용하려고 보니 <code>pyenv</code> 와 <code>pipenv</code> 용어들은 기억나는데 좀처럼 어떻게 써야할지 감이 잡히지 않았다. 물론 글로벌 환경에서 작업해도 무방했지만 소싯적 시험기간에 공부보단 책상정리에 열중했던 주의력 산만한 학생으로서 두가지를 반드시 사용해야겠다는 결의를 다져보았다. 찾아보니 예전에 같은 주제로 메모도 해두었지만 나조차 이해가 되지않을 만큼의 내용으로 도움이 되지 않았고 이에 새롭게 <code>파이썬 가상환경 사용방법</code>을 알아 보았다. 물론 파이썬 가상환경의 전반적인 부분은 아니고 내가 사용할 만큼, 그리고 세팅하면서 발생하는 의구심에 대한 부분을 나의 눈높이 정도로 정리하였다. (막상 쓰고보니 이전에 쓴 글이 이해되는 것 같은.. 그때 훨씬 더 많이 알고 있었을지도?)</p>
<h2 id=내용>내용</h2>
<p><code>가상환경</code>은 간단하게 말해 프로젝트마다 독립된 방을 만들어서 각각의 프로젝트를 별도의 환경으로 구성하거나 여러 pc 혹은 협업자와 동일한 환경을 구성하는 것을 좀 더 좀 더 편리하게 해주는 툴이라고 볼 수 있다.</p>
<p>프로젝트마다 환경을 다르게 해주는 이유는 무엇인가? 예를 들면 파이썬 3.9 버전을 사용하고 있는데 내가 써야할 패키지는 3.6버전에서만 동작한다면 3.9버전을 삭제하고 3.6버전을 설치하던지 패키지를 포기할지 고민하는 순간이 생길 수 있다. 각각의 프로젝트마다 패키지 버전을 달리해야할 수도 있으며 프로젝트에 사용하지 않는 불필요한 패키지들 때문에 pyinstaller 등으로 배포 파일을 만들 때 의도치 않게 용량이 커지는 문제가 발생할 수도 있다. 가상환경은 이런 걱정을 완화시켜줄 수 있다.</p>
<p>그럼 pyenv는 뭐고 pipenv는 무엇인가? 이름 또한 너무 비슷하다! 활용할 부분에 대해서만 설명하자면 다음과 같다.</p>
<p><code>pyenv</code> : pc에 여러 버전의 파이썬을 설치해 프로젝트마다 각기 다른 버전의 파이썬 환경을 구성할 수 있다.</p>
<p><code>pipenv</code> : pip 와 virtualenv 를 합쳐놓은 것, 가상환경을 생성하고 패키지 구성을 서로 다르게 할 수 있다.</p>
<p>pipenv는 pyenv가 설치되어 있다면 가상환경에 패키지 뿐만아니라 파이썬도 버전을 지정해 줄 수 있다.</p>
<h3 id=pyenv-사용-방법>pyenv 사용 방법</h3>
<p>간단한 사용법을 정리해 보았다.</p>
<h4 id=-설치하기>👉 설치하기</h4>
<p>homebrew 환경에서는 아래 명령어로 설치가 가능하다.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ brew install pyenv
</code></pre></div><h4 id=-파이썬-설치>👉 파이썬 설치</h4>
<p>pyenv를 설치하면 아래 명령어들로 간단하게 설치 가능한 파이썬 버전을 확인하고 설치할 수 있다.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># 설치 가능 리스트 확인</span>
$ pyenv install -l
<span style=color:#75715e># 3.7.3 버전 설치</span>
$ pyenv install 3.7.7
</code></pre></div><h4 id=-파이썬-설치-오류-관련>🙅🏻 파이썬 설치 오류 관련</h4>
<p>간혹 아래와 같은 오류 메세지들과 함께 설치가 안되는 경우가 발생할 수 있다. (그게 바로 나의 경우..!)</p>
<blockquote>
<p>xcrun: error: invalid active developer path (/Library/Developer/CommandLineTools), missing xcrun at: /Library/Developer/CommandLineTools/usr/bin/xcrun</p>
</blockquote>
<blockquote>
<p>error: implicit declaration of function &lsquo;sendfile&rsquo; is invalid in C99</p>
</blockquote>
<p>나는 <a href=https://github.com/pyenv/pyenv/issues/1740>이곳</a>을 참고하여 다음 스텝들을 진행하였고 정상적으로 설치가 되었다.</p>
<ul>
<li>zlip bzip2 재설치</li>
</ul>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ brew reinstall zlib bzip2
</code></pre></div><ul>
<li>쉘에 환경변수 추가
(.zshrc 파일에 추가해둬도 될 것 같다)</li>
</ul>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>export PATH<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span>$HOME<span style=color:#e6db74>/.pyenv/bin:</span>$PATH<span style=color:#e6db74>&#34;</span>
export PATH<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;/usr/local/bin:</span>$PATH<span style=color:#e6db74>&#34;</span>

eval <span style=color:#e6db74>&#34;</span><span style=color:#66d9ef>$(</span>pyenv init -<span style=color:#66d9ef>)</span><span style=color:#e6db74>&#34;</span>
eval <span style=color:#e6db74>&#34;</span><span style=color:#66d9ef>$(</span>pyenv virtualenv-init -<span style=color:#66d9ef>)</span><span style=color:#e6db74>&#34;</span>
export LDFLAGS<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;-L/usr/local/opt/zlib/lib -L/usr/local/opt/bzip2/lib&#34;</span>
export CPPFLAGS<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;-I/usr/local/opt/zlib/include -I/usr/local/opt/bzip2/include&#34;</span>
</code></pre></div><ul>
<li>설치 시도(3.6.0 버전 예시)</li>
</ul>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash> CFLAGS<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;-I</span><span style=color:#66d9ef>$(</span>brew --prefix openssl<span style=color:#66d9ef>)</span><span style=color:#e6db74>/include -I</span><span style=color:#66d9ef>$(</span>brew --prefix bzip2<span style=color:#66d9ef>)</span><span style=color:#e6db74>/include -I</span><span style=color:#66d9ef>$(</span>brew --prefix readline<span style=color:#66d9ef>)</span><span style=color:#e6db74>/include -I</span><span style=color:#66d9ef>$(</span>xcrun --show-sdk-path<span style=color:#66d9ef>)</span><span style=color:#e6db74>/usr/include&#34;</span> LDFLAGS<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;-L</span><span style=color:#66d9ef>$(</span>brew --prefix openssl<span style=color:#66d9ef>)</span><span style=color:#e6db74>/lib -L</span><span style=color:#66d9ef>$(</span>brew --prefix readline<span style=color:#66d9ef>)</span><span style=color:#e6db74>/lib -L</span><span style=color:#66d9ef>$(</span>brew --prefix zlib<span style=color:#66d9ef>)</span><span style=color:#e6db74>/lib -L</span><span style=color:#66d9ef>$(</span>brew --prefix bzip2<span style=color:#66d9ef>)</span><span style=color:#e6db74>/lib&#34;</span> pyenv install --patch 3.6.0 &lt; &lt;<span style=color:#f92672>(</span>curl -sSL https://github.com/python/cpython/commit/8ea6353.patch<span style=color:#ae81ff>\?</span>full_index<span style=color:#ae81ff>\=</span>1<span style=color:#f92672>)</span>
</code></pre></div><p>다른 버전을 설치하려면 위의 명령어에서 버전을 변경하여 준다.</p>
<p>이렇게 해도 안된다면 xcode CommandLineTools를 다시 설치하고 위를 반복한다.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ sudo rm -rf /Library/Developer/CommandLineTools
$ xcode-select --install
</code></pre></div><h4 id=-설치-목록-확인>👉 설치 목록 확인</h4>
<p>pyenv 로 설치한 파이썬 버전들은 다음 명령어로 확인할 수 있다.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ pyenv versions
* system <span style=color:#f92672>(</span>set by /Users/taedi/.pyenv/version<span style=color:#f92672>)</span>
  3.6.13
  3.7.3
  pypy3.5-7.0.0
</code></pre></div><h4 id=-기타>👉 기타</h4>
<p>다른 기능들은 <code>pyenv -h</code> 나 깃헙에서 확인이 가능하다.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>Usage: pyenv &lt;command&gt; <span style=color:#f92672>[</span>&lt;args&gt;<span style=color:#f92672>]</span>

Some useful pyenv commands are:
   --version   Display the version of pyenv
   commands    List all available pyenv commands
   exec        Run an executable with the selected Python version
   global      Set or show the global Python version<span style=color:#f92672>(</span>s<span style=color:#f92672>)</span>
   help        Display help <span style=color:#66d9ef>for</span> a command
   hooks       List hook scripts <span style=color:#66d9ef>for</span> a given pyenv command
   init        Configure the shell environment <span style=color:#66d9ef>for</span> pyenv
   install     Install a Python version using python-build
   local       Set or show the local application-specific Python version<span style=color:#f92672>(</span>s<span style=color:#f92672>)</span>
   prefix      Display prefix <span style=color:#66d9ef>for</span> a Python version
   rehash      Rehash pyenv shims <span style=color:#f92672>(</span>run this after installing executables<span style=color:#f92672>)</span>
   root        Display the root directory where versions and shims are kept
   shell       Set or show the shell-specific Python version
   shims       List existing pyenv shims
   uninstall   Uninstall a specific Python version
   version     Show the current Python version<span style=color:#f92672>(</span>s<span style=color:#f92672>)</span> and its origin
   version-file   Detect the file that sets the current pyenv version
   version-name   Show the current Python version
   version-origin   Explain how the current Python version is set
   versions    List all Python versions available to pyenv
   whence      List all Python versions that contain the given executable
   which       Display the full path to an executable

See <span style=color:#e6db74>`</span>pyenv help &lt;command&gt;<span style=color:#960050;background-color:#1e0010>&#39;</span> <span style=color:#66d9ef>for</span> information on a specific command.
For full documentation, see: https://github.com/pyenv/pyenv#readme
</code></pre></div><h3 id=pipenv-사용-방법>pipenv 사용 방법</h3>
<p>pipenv의 사용 방법은 아래에서 상세하게 다룰거라 간단하게 정리했다.</p>
<h4 id=-설치하기-1>👉 설치하기</h4>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ brew install pipenv
</code></pre></div><h4 id=-명령어>👉 명령어</h4>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># 파이썬 버전 지정</span>
$ pipenv --python 3.7.3

<span style=color:#75715e># 패키지 설치</span>
$ pipenv install <span style=color:#f92672>[</span>패키지명<span style=color:#f92672>]</span>
$ pipenv install 
$ pipenv install --dev

<span style=color:#75715e># venv 진입/종료</span>
$ pipenv shell
$ exit

$ pipenv run python

<span style=color:#75715e># venv 경로 확인</span>
$ pipenv --venv
$ pipenv --py

<span style=color:#75715e># venv 삭제</span>
$ pipenv --rm

<span style=color:#75715e># 패키지 목록 확인</span>
$ pipenv graph
</code></pre></div><p>더 자세한 내용은 <code>pipenv -h</code> 를 확인해보자.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>Usage: pipenv <span style=color:#f92672>[</span>OPTIONS<span style=color:#f92672>]</span> COMMAND <span style=color:#f92672>[</span>ARGS<span style=color:#f92672>]</span>...

Options:
  --where                         Output project home information.
  --venv                          Output virtualenv information.
  --py                            Output Python interpreter information.
  --envs                          Output Environment Variable options.
  --rm                            Remove the virtualenv.
  --bare                          Minimal output.
  --completion                    Output completion <span style=color:#f92672>(</span>to be executed by the
                                  shell<span style=color:#f92672>)</span>.

  --man                           Display manpage.
  --support                       Output diagnostic information <span style=color:#66d9ef>for</span> use in
                                  GitHub issues.

  --site-packages / --no-site-packages
                                  Enable site-packages <span style=color:#66d9ef>for</span> the virtualenv.
                                  <span style=color:#f92672>[</span>env var: PIPENV_SITE_PACKAGES<span style=color:#f92672>]</span>

  --python TEXT                   Specify which version of Python virtualenv
                                  should use.

  --three / --two                 Use Python 3/2 when creating virtualenv.
  --clear                         Clears caches <span style=color:#f92672>(</span>pipenv, pip, and pip-
                                  tools<span style=color:#f92672>)</span>.  <span style=color:#f92672>[</span>env var: PIPENV_CLEAR<span style=color:#f92672>]</span>

  -v, --verbose                   Verbose mode.
  --pypi-mirror TEXT              Specify a PyPI mirror.
  --version                       Show the version and exit.
  -h, --help                      Show this message and exit.

Usage Examples:
   Create a new project using Python 3.7, specifically:
   $ pipenv --python 3.7

   Remove project virtualenv <span style=color:#f92672>(</span>inferred from current directory<span style=color:#f92672>)</span>:
   $ pipenv --rm

   Install all dependencies <span style=color:#66d9ef>for</span> a project <span style=color:#f92672>(</span>including dev<span style=color:#f92672>)</span>:
   $ pipenv install --dev

   Create a lockfile containing pre-releases:
   $ pipenv lock --pre

   Show a graph of your installed dependencies:
   $ pipenv graph

   Check your installed dependencies <span style=color:#66d9ef>for</span> security vulnerabilities:
   $ pipenv check

   Install a local setup.py into your virtual environment/Pipfile:
   $ pipenv install -e .

   Use a lower-level pip command:
   $ pipenv run pip freeze

Commands:
  check      Checks <span style=color:#66d9ef>for</span> PyUp Safety security vulnerabilities and against PEP
             <span style=color:#ae81ff>508</span> markers provided in Pipfile.

  clean      Uninstalls all packages not specified in Pipfile.lock.
  graph      Displays currently-installed dependency graph information.
  install    Installs provided packages and adds them to Pipfile, or <span style=color:#f92672>(</span><span style=color:#66d9ef>if</span> no
             packages are given<span style=color:#f92672>)</span>, installs all packages from Pipfile.

  lock       Generates Pipfile.lock.
  open       View a given module in your editor.
  run        Spawns a command installed into the virtualenv.
  scripts    Lists scripts in current environment config.
  shell      Spawns a shell within the virtualenv.
  sync       Installs all packages specified in Pipfile.lock.
  uninstall  Uninstalls a provided package and removes it from Pipfile.
  update     Runs lock, <span style=color:#66d9ef>then</span> sync.
</code></pre></div><h3 id=그래서-프로젝트를-어떻게-설정하는가>그래서 프로젝트를 어떻게 설정하는가?</h3>
<p>제일 중요한 부분이다. 간만에 파이썬을 이용해서 무언가를 만들어보려고하니 이 부분에서 막혀 한참을 헤메었다. 반드시 이렇게 해야하는 것은 아니겠지만 나의 경우 이렇게 세팅해보았다.</p>
<h4 id=1-pyenv로-원하는-파이썬-버전-설치>1. pyenv로 원하는 파이썬 버전 설치</h4>
<p>기존에 설치되어 있다면 추가로 설치해줄 필요는 없다.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ pyenv install 3.7.3
</code></pre></div><h4 id=2-pipenv로-python-버전-선언>2. pipenv로 python 버전 선언</h4>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ pipenv --python 3.7.3
</code></pre></div><h4 id=3-패키지-설치>3. 패키지 설치</h4>
<p>프로젝트에 필요한 패키지들을 설치해준다.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ pipenv install pyqt5
</code></pre></div><h4 id=--어딘가에서-가져온-프로젝트는>🤔 어딘가에서 가져온 프로젝트는?</h4>
<p>프로젝트를 새로 생성하는 것이 아니라 git repo 등을 통해서 pull 하였다면 <code>Pipfile</code> 및 <code>Pipfile.lock</code> 파일이 생성되어 있을 수 있다. 이 경우에는 2번과 3번을 건너뛰고 아래 명령어를 입력해주면 되는데 여기서 또 <code>sync</code> 와 <code>install</code> 두개로 나뉜다. <a href=https://stackoverflow.com/questions/52447791/what-are-the-advantages-of-using-pipenv-sync-over-pipenv-install>이곳</a>에 따르면</p>
<p><code>install</code> 은 Pipfile 에 기록된 의존성을 토대로 패키지들을 설치하고 그걸 토대로 <em>Pipfile.lock를 업데이트</em> 해버린다고 한다. <code>sync</code> 는 Pipfile.lock 에 지정된 패키지 버전을 그대로 설치하는 것이라 실제 작업 환경과 동일하게 매칭시켜 줄 수 있어 선호된다고 한다. (간단히 말해서 install 은 호환버전 설치, sync는 완전 일치 같은 느낌이려나..)</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ pipenv sync
$ pipenv install
</code></pre></div><h4 id=-pipfilelock-생성-시기>🤔 <code>Pipfile.lock</code> 생성 시기?</h4>
<p>Pipfile.lock 파일은<code>install</code>, <code>uninstall</code>, 명령어를 사용할 때 자동으로 생성된다. 그리고<code>lock</code> 명령어를 사용해 직접 생성하여 줄 수도 있다. 한개 파일이 아니라 Pipfile 과 나누어져 있는 부분과 관련해서는 의존성, 검증, 해시 생성 목적 등을 좀 더 구체적으로 이해하고 난 후에 알 수 있을 것 같다.</p>
<h4 id=-프로젝트-내부에-venv-폴더-생성하기>✍🏻 프로젝트 내부에 <code>.venv</code> 폴더 생성하기</h4>
<p>기본적으로 가상환경 경로는 /Users/{사용자명}/.local/share/virtualenvs/{프로젝트명}-{난수번호}/ 에 위치한다.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ pipenv --venv
/Users/taedi/.local/share/virtualenvs/test-XBItUTrH
</code></pre></div><p>이것을 프로젝트 폴더 내에 위치하려면 .venv 폴더를 추가하여 주면 된다.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># 프로젝트 디렉토리에 .venv 폴더 생성</span>
$ mkdir .venv
</code></pre></div><p>이후 가상환경을 생성하여 주면 프로젝트 폴더 내에 .venv 폴더에 위치한 것을 확인할 수 있다. 기존에 이미 가상환경을 설정했다면 <code>pipenv --rm</code> 으로 기존 환경을 삭제해주어야 한다.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ pipenv --python 3.7.3
$ pipenv --venv              
/Users/taedi/workspace_python/test/.venv
</code></pre></div><p>.venv를 활용하면 <code>VSCode</code> 에서 프로젝트 가상환경의 python interperter 를 default 로 설정되도록 할 수 있다. <code>settings.json</code> 파일에 아래 코드를 추가하면 된다. settings.json 파일은 <code>/Users/{사용자명}/Library/Application Support/Code/User</code> 경로에 있다.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=color:#e6db74>&#34;python.venvPath&#34;</span><span style=color:#960050;background-color:#1e0010>:</span> <span style=color:#e6db74>&#34;${workspaceFolder}/.venv/bin/python&#34;</span><span style=color:#960050;background-color:#1e0010>,</span>
<span style=color:#e6db74>&#34;python.pythonPath&#34;</span><span style=color:#960050;background-color:#1e0010>:</span> <span style=color:#e6db74>&#34;.venv/bin/python&#34;</span>
</code></pre></div><h4 id=4--가상환경-활성--비활성>4. 가상환경 활성 & 비활성</h4>
<p>다음 명령어로 가상환경 shell 을 실행하고 종료할 수 있다.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ pipenv shell
$ exit
</code></pre></div><h4 id=-가상환경을-활성화-없이-바로-실행하는-법>🙊 가상환경을 활성화 없이 바로 실행하는 법</h4>
<p>또는 shell 실행 없이 바로 프로젝트 파일을 실행할 수도 있다.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ pipenv run python
$ pipenv run python test.py
</code></pre></div><p><code>.zshrc</code> 에 <code>alias prp="pipenv run python"</code> 와 같이 설정하여 좀더 간편하게 사용할 수도 있다.</p>
<h4 id=-의존성-그래프-확인>👉 의존성 그래프 확인</h4>
<p>다음 명령어로 가상환경의 의존성 그래프를 확인할 수 있다.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ pipenv graph
</code></pre></div><h4 id=-가상환경-경로-확인>👉 가상환경 경로 확인</h4>
<p>가상환경이 설치된 경로는 아래 명령어를 통해서 확인이 가능하다.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ pipenv --venv
/Users/taedi/.local/share/virtualenvs/test-XBItUTrH
$ pipenv --py  
/Users/taedi/.local/share/virtualenvs/test-XBItUTrH/bin/python
</code></pre></div><h4 id=5-가상환경-삭제>5. 가상환경 삭제</h4>
<p>가상환경이 더이상 필요하지 않거나 어딘가에서 Pipfile 파일을 받아왔는데 충돌이 일어난다면 아래 명령어로 기존의 가상환경을 지울 수 있다.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ pipenv —rm
</code></pre></div><h2 id=기타>기타</h2>
<p>설정을 다하고나니 글로벌 환경에 설치했던 패키지들을 모조리 지우고 싶은 충동이 생겼다. 삭제도 할겸 pip 명령어도 간단하게 알아보았다.</p>
<h3 id=pip-기본>pip 기본</h3>
<p>파이썬 패키지 관리자로 풀네임은 <code>Pip Installs Packages</code> 재귀약어라는데 이게 왜 궁금했는지는 모르겠다.</p>
<h4 id=-pip-사용-방법>👉 pip 사용 방법</h4>
<blockquote>
<p>순서대로 pip 업데이트, 패키지 설치, 패키지 삭제<br>
pip install —upgrade pip<br>
pip install [패키지명]<br>
pip uninstall [패키지명]</p>
</blockquote>
<p>설치 된 패키지는 아래 명령어로 확인할 수 있다.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>pip list
</code></pre></div><h4 id=-pip-패키지-한번에-삭제하기>👉 pip 패키지 한번에 삭제하기</h4>
<p>아무튼 가상환경을 다 생성하고 나면 기존에 pip로 설치했던 패키지들을 싹 밀어버리고 싶은 충동이 생길 수 있다.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ pip freeze &gt; requirements.txt
$ pip uninstall -r requirements.txt -y
</code></pre></div><p>명령어를 실행한 폴더에 <code>requirements.txt</code> 라는 파일로 설치된 패키지와 버전들이 명세되고 이것들을 읽어와서 모조리 지우는 것이다. 같은 맥락으로 복구는 아래와 같은 방식으로 하면 된다.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ pip install -r requirements.txt
</code></pre></div><p>물론 복구할 예정이 없다면 <code>rm requirements.txt</code> 명령어로 싸악 지워버리면 될 것 같다.</p>
<h3 id=python3--python>python3 → python</h3>
<p>맥은 기본적으로 2버전대 파이썬이 설치되어 있다. 때문에 3버전대를 이용하려면 <code>python3</code> 과 <code>pip3</code> 명령어를 사용해야한다. 불편함이 느껴진다면 <code>.zshrc</code> 혹은 <code>.bashrc</code> 파일을 실행해 아래 값을 입력하고 저장하면 된다.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># python3 to python</span>
alias pip<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;pip3&#34;</span>
alias python<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;python3&#34;</span>
</code></pre></div><p>이후 2버전대 python은 <code>python2</code> 로 호출하면 된다.</p>
<h2 id=참고>참고</h2>
<ul>
<li><a href=https://github.com/pyenv/pyenv>https://github.com/pyenv/pyenv</a></li>
<li><a href=https://github.com/pypa/pipenv>https://github.com/pypa/pipenv</a></li>
<li><a href=https://www.daleseo.com/python-pipenv/>https://www.daleseo.com/python-pipenv/</a></li>
<li><a href=https://towardsdatascience.com/python-environment-101-1d68bda3094d>https://towardsdatascience.com/python-environment-101-1d68bda3094d</a></li>
</ul>
</div>
<hr>
<div class="row next-prev-navigator">
<div class="col-md-6 previous-article">
<a href=/eclipse-mac-kor-fix/ title="이클립스(eclipse), Dbeaver 맥에서 한글 짤림문제 해결" class="btn btn-outline-info">
<div><i class="fas fa-chevron-circle-left"></i> 이전</div>
<div class=next-prev-text>이클립스(eclipse), Dbeaver 맥에서 한글 짤림문제 해결</div>
</a>
</div>
<div class="col-md-6 next-article">
<a href=/hugo-install/ title="Github 블로그 설정  1. Hugo 설치" class="btn btn-outline-info">
<div>다음 <i class="fas fa-chevron-circle-right"></i></div>
<div class=next-prev-text>Github 블로그 설정 1. Hugo 설치</div>
</a>
</div>
</div>
<hr>
<div class=utterances></div>
<script src=https://utteranc.es/client.js repo=taedi90/blog_comments issue-term=pathname theme=github-light crossorigin=anonymous defer></script>
</div>
</div>
</div>
<a id=scroll-to-top class=btn><i class="fas fa-chevron-circle-up"></i></a>
</section>
<section class=toc-section id=toc-section>
<div class=toc-holder>
<h5 class="text-center pl-3">List</h5>
<hr>
<div class=toc>
<nav id=TableOfContents>
<ul>
<li><a href=#내용>내용</a>
<ul>
<li><a href=#pyenv-사용-방법>pyenv 사용 방법</a>
<ul>
<li><a href=#-설치하기>👉 설치하기</a></li>
<li><a href=#-파이썬-설치>👉 파이썬 설치</a></li>
<li><a href=#-파이썬-설치-오류-관련>🙅🏻 파이썬 설치 오류 관련</a></li>
<li><a href=#-설치-목록-확인>👉 설치 목록 확인</a></li>
<li><a href=#-기타>👉 기타</a></li>
</ul>
</li>
<li><a href=#pipenv-사용-방법>pipenv 사용 방법</a>
<ul>
<li><a href=#-설치하기-1>👉 설치하기</a></li>
<li><a href=#-명령어>👉 명령어</a></li>
</ul>
</li>
<li><a href=#그래서-프로젝트를-어떻게-설정하는가>그래서 프로젝트를 어떻게 설정하는가?</a>
<ul>
<li><a href=#1-pyenv로-원하는-파이썬-버전-설치>1. pyenv로 원하는 파이썬 버전 설치</a></li>
<li><a href=#2-pipenv로-python-버전-선언>2. pipenv로 python 버전 선언</a></li>
<li><a href=#3-패키지-설치>3. 패키지 설치</a></li>
<li><a href=#--어딘가에서-가져온-프로젝트는>🤔 어딘가에서 가져온 프로젝트는?</a></li>
<li><a href=#-pipfilelock-생성-시기>🤔 <code>Pipfile.lock</code> 생성 시기?</a></li>
<li><a href=#-프로젝트-내부에-venv-폴더-생성하기>✍🏻 프로젝트 내부에 <code>.venv</code> 폴더 생성하기</a></li>
<li><a href=#4--가상환경-활성--비활성>4. 가상환경 활성 & 비활성</a></li>
<li><a href=#-가상환경을-활성화-없이-바로-실행하는-법>🙊 가상환경을 활성화 없이 바로 실행하는 법</a></li>
<li><a href=#-의존성-그래프-확인>👉 의존성 그래프 확인</a></li>
<li><a href=#-가상환경-경로-확인>👉 가상환경 경로 확인</a></li>
<li><a href=#5-가상환경-삭제>5. 가상환경 삭제</a></li>
</ul>
</li>
</ul>
</li>
<li><a href=#기타>기타</a>
<ul>
<li><a href=#pip-기본>pip 기본</a>
<ul>
<li><a href=#-pip-사용-방법>👉 pip 사용 방법</a></li>
<li><a href=#-pip-패키지-한번에-삭제하기>👉 pip 패키지 한번에 삭제하기</a></li>
</ul>
</li>
<li><a href=#python3--python>python3 → python</a></li>
</ul>
</li>
<li><a href=#참고>참고</a></li>
</ul>
</nav>
</div>
</div>
</section>
</div>
<footer class="container-fluid text-center align-content-center footer pb-2">
<div class="container pt-5">
<div class="row text-left">
<div class="col-md-4 col-sm-12">
<h5>Contact</h5>
<ul>
<li><span>Email: </span> <a href=mailto:taedi90@gmail.com><span>taedi90@gmail.com</span></a></li>
<li><span>Github: </span> <a href=https://github.com/taedi90><span>https://github.com/taedi90</span></a></li>
</ul>
</div>
</div>
</div>
</footer>
<script type=text/javascript src=/js/jquery-3.4.1.min.js></script>
<script type=text/javascript src=/js/popper.min.js></script>
<script type=text/javascript src=/js/bootstrap.min.js></script>
<script type=text/javascript src=/js/navbar.js></script>
<script type=text/javascript src=/js/plyr.js></script>
<script type=text/javascript src=/js/main.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js></script>
<script src=/js/single.js></script>
<script>hljs.initHighlightingOnLoad()</script>
<script>$(document).ready(function(){$('p').has('img').css('text-align','center')})</script>
</body>
</html>