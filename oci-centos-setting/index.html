<!doctype html><html>
<head>
<title>[OCI]CentOS 8 설치 및 세팅하기</title>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta http-equiv=x-ua-compatible content="ie=edge">
<link rel=stylesheet href=/css/bootstrap.min.css>
<link rel=stylesheet href=/css/layouts/main.css>
<link rel=stylesheet href=/css/navigators/navbar.css>
<link rel=stylesheet href=/css/plyr.css>
<link rel=stylesheet href=/css/flag-icon.min.css>
<link href="https://fonts.googleapis.com/css2?family=Muli:wght@300;400;500;600" rel=stylesheet>
<link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css>
<script defer src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1882367656929494" crossorigin=anonymous></script>
<link rel=icon type=image/png href=/images/site/favicon.svg>
<meta property="og:title" content="[OCI]CentOS 8 설치 및 세팅하기">
<meta property="og:description" content="오라클 클라우드에 CentOS를 설치하고 docker환경에서 tomcat, nginx, jenkins, MySQL 까지 세팅해보기">
<meta property="og:type" content="article">
<meta property="og:url" content="https://log.taedi.net/oci-centos-setting/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2021-12-01T00:00:00+09:00">
<meta property="article:modified_time" content="2021-12-04T17:46:00+09:00">
<meta name=description content="오라클 클라우드에 CentOS를 설치하고 docker환경에서 tomcat, nginx, jenkins, MySQL 까지 세팅해보기">
<link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/atom-one-dark.min.css>
<link rel=stylesheet href=/css/layouts/single.css>
<link rel=stylesheet href=/css/navigators/sidebar.css>
<link rel=stylesheet href=/css/style.css>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-52CHZ4CKK9"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-52CHZ4CKK9',{anonymize_ip:!1})}</script>
</head>
<body data-spy=scroll data-target=#TableOfContents data-offset=80>
<div class="container-fluid bg-dimmed wrapper">
<nav class="navbar navbar-expand-xl top-navbar final-navbar shadow">
<div class=container>
<button class="navbar-toggler navbar-light" id=sidebar-toggler type=button onclick=toggleSidebar()>
<span class=navbar-toggler-icon></span>
</button>
<a class=navbar-brand href=/>
<img src=/images/site/main-logo.svg alt=Logo>
Taedi's Log</a>
<button class="navbar-toggler navbar-light" id=toc-toggler type=button onclick=toggleTOC()>
<span class=navbar-toggler-icon></span>
</button>
<div class="collapse navbar-collapse lang-selector" id=top-nav-items>
<ul class="navbar-nav ml-auto">
</ul>
</div>
</div>
<img src=/images/site/main-logo.svg class=d-none id=main-logo alt=Logo>
<img src=/images/site/inverted-logo.svg class=d-none id=inverted-logo alt="Inverted Logo">
</nav>
<section class=sidebar-section id=sidebar-section>
<div class=sidebar-holder>
<div class=sidebar id=sidebar>
<form class=mx-auto method=get action=/search>
<input type=text name=keyword placeholder=Search data-search id=search-box>
</form>
<div class=sidebar-tree>
<ul class=tree id=tree>
<li id=list-heading><a href=/posts data-filter=all>Posts</a></li>
<div class=subtree>
<li><a href=/posts/java/ title=Java>Java</a></li>
<li><a href=/posts/javascript/ title=JavaScript>JavaScript</a></li>
<li><a href=/posts/logs/ title=Logs>Logs</a></li>
<li><a href=/posts/python/ title=Python>Python</a></li>
<li><a class=active href=/posts/server/ title=Server>Server</a></li>
<li><a href=/posts/sql/ title=SQL>SQL</a></li>
<li><a href=/posts/blog/ title=Blog>Blog</a></li>
</div>
</ul>
</div>
</div>
</div>
</section>
<section class=content-section id=content-section>
<div class=content>
<div class="container p-0 read-area">
<div class="hero-area col-sm-12" id=hero-area style=background-image:url(https://log.taedi.net/images/default-hero2.png)>
</div>
<div class=page-content>
<div class="author-profile ml-auto align-self-lg-center">
<img class=rounded-circle src=/images/author/avatar_hue4fa7b2d8e73b32dce85afe643c3f5c5_90375_120x120_fit_box_3.png alt="Author Image">
<h5 class=author-name>Taesoo Kim</h5>
<p>2021년 12월 01일</p>
</div>
<div class=title>
<h1>[OCI]CentOS 8 설치 및 세팅하기</h1>
</div>
<div class=taxonomy-terms>
<ul style=padding-inline-start:0>
<li class=rounded><a href=/tags/oci class="btn, btn-sm">OCI</a></li>
<li class=rounded><a href=/tags/sever class="btn, btn-sm">sever</a></li>
</ul>
</div>
<div class=post-content id=post-content>
<p>어느날 우연히 <code>오라클 클라우드 인프라(이하 OCI)</code> 에서 프리티어 서비스를 제공하는 것을 알게 되었고 &lsquo;내가 만든 웹 프로젝트를 서비스할 서버를 직접 구축해보자!&rsquo; 라고 결심했다. 시도해본 것은 VM(가상머신)에 CentOS 를 설치하고 docker 환경에서 tomcat, nginx, jenkins, MySQL 까지 세팅하여 보았다. 그리고 추가적으로 도메인 설정, SSL 인증서 발급, NAS 서버에 자동 백업 설정, Github WebHook 까지 설정하여 프로젝트 테스트 용도의 웹 서버로 원활히 사용할 수 있도록 설정을 하였고 작업한 내용을 정리해보려 한다.</p>
<p>기존에 시놀로지 NAS에 docker를 이용하면서 비슷한 경험을 해봐서 수월할거라 착각했지만 꽤나 복잡했고 정리한 내용도 다소 부족한 것 같다.</p>
<h2 id=1-서비스-가입>1. 서비스 가입</h2>
<p>가입은 <a href=https://www.oracle.com/kr/cloud/free/>https://www.oracle.com/kr/cloud/free/</a> 에서 가능하며 가입할 때 region 을 <code>서울</code>로 입력하라는 이야기가 많았다. 자세한 사항은 모르겠으나 추후에 변경이 어렵다고 하니 이 부분만 체크하면 크게 어려울 사항은 없을 것 같다. 가입할 때 카드 인증을 거치는데 한화로 1800원 정도 결제되었다가 수분 내로 취소처리 되었다. 가입을 마치고 15분정도 후에 메일로 사용이 가능하다는 안내를 받을 수 있었다. (카드결제는 익월에도 한 번 진행되었다. 이게 매달 카드 유효성을 검사하는 것인가 싶기도 하다.)</p>
<h2 id=2-세팅>2. 세팅</h2>
<h3 id=2-1-vm-생성>2-1. VM 생성</h3>
<p>OCI 로그인 후 메인 화면을 보면 클라우드에서 활용할 수 있는 다양한 기능들이 있는데 이중에서 VM instance를 선택했다.</p>
<p><img src=images/pic-0003.png alt="스크린샷 2021-11-29 오후 5.34.58.png"></p>
<p>선택 후에 기본적인 세팅을 할 수 있는 페이지가 나오는데, 다음 항목들을 선택하였다.</p>
<ul>
<li>name: 추후 관리에 용이하도록 식별할 수 있는 이름 지정</li>
<li>image: &lsquo;Always Free-eligible&rsquo; 중에 선택하면 되는데 CentOS 8 을 선택했고 특별한 이유는 없음</li>
<li>networking: &lsquo;Public IP address&rsquo; 체크 (외부 접속을 위하여 필요)</li>
<li>ssh-keys: SSH 접속을 위해 필요하니 반드시 다운로드 하여 안전한 곳에 보관</li>
<li>volume: &lsquo;Specify a custom boot volume size&rsquo; 선택 후 50GB 설정</li>
</ul>
<p><img src=images/pic-0004.png alt="스크린샷 2021-11-29 오후 5.36.13.png"></p>
<p><img src=images/pic-0001.png alt="스크린샷 2021-12-01 오전 9.42.20.png"></p>
<p><img src=images/pic-0009.png alt="스크린샷 2021-11-29 오후 5.37.54.png"></p>
<p><img src=images/pic-0007.png alt="스크린샷 2021-12-01 오전 9.46.32.png"></p>
<p>설정을 마친 후에 <code>create</code> 를 하면 된다.</p>
<h3 id=2-2-대시보드-확인>2-2. 대시보드 확인</h3>
<p>설치를 마친 후 대시보드에서 공인아이피와 username 을 체크한다. (SSH 접속에 필요)</p>
<p><img src=images/pic-0012.png alt="스크린샷 2021-12-01 오전 9.48.49.png"></p>
<p>Subnet > Security Lists > Ingress Rules > Add Ingress rules 에서 22 포트(http)와 443 포트(https) 3306포트(SQL)를 개방해주고 추가적으로 필요한 포트가 있다면 마찬가지로 개방해준다.</p>
<p><img src=images/pic-0005.png alt="스크린샷 2021-12-01 오전 9.51.01.png"></p>
<h3 id=2-3-ssh-접속>2-3. SSH 접속</h3>
<h4 id=2-3-1-ssh-접속>2-3-1. SSH 접속</h4>
<p>맥에서는 터미널에서 ssh 접속이 가능하다.(윈도우는 ssh 클라이언트 프로그램 다운로드 필요) 아까 다운받은 ssh-key가 위치한 디렉토리로 이동해서 ssh 접속을 시도한다.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># ssh-key가 저장 된 경로로 이동</span>
cd oracle_cloud
<span style=color:#75715e># ssh 접속 시도</span>
ssh -i ssh-key.key 아이디@공인아이피
</code></pre></div><p>혹시나 권한문제로 오류가 발생한다면 디렉토리와 ssh-key 권한을 수정하고 다시 시도해준다.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># ssh-key 디렉토리</span>
chmod <span style=color:#ae81ff>0700</span> oracle_cloud

<span style=color:#75715e># ssh-key 파일</span>
chmod <span style=color:#ae81ff>0400</span> ssh-key.key
</code></pre></div><h4 id=2-3-2-루트-비밀번호-변경>2-3-2. 루트 비밀번호 변경</h4>
<p>ssh 접속이 완료되었다면 루트 및 유저 비밀번호를 설정해준다.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># 루트</span>
sudo passwd root

<span style=color:#75715e># 유저</span>
sudo passwd opc
</code></pre></div><h4 id=2-3-3-ssh-key-없이-로그인-설정>2-3-3. ssh-key 없이 로그인 설정</h4>
<p>이후 ssh-key 없이 비밀번호를 이용한 접속을 위해서는 sshd_config 파일 수정이 필요하다.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># /etc/ssh 디렉토리 진입</span>
cd /etc/ssh

<span style=color:#75715e># 원본파일 백업</span>
sudo cp sshd_config sshd_config.bak

<span style=color:#75715e># 에디터 진입</span>
sudo nano sshd_config
</code></pre></div><p>에디터로 진입하면 &lsquo;PasswordAuthentication&rsquo; 항목을 찾아 yes로 설정한다. (default: no)</p>
<p><img src=images/pic-0002.png alt="스크린샷 2021-11-29 오후 6.01.28.png"></p>
<p>이후 sshd를 재실행 해준다.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>sudo service sshd reload
</code></pre></div><h3 id=2-4-리눅스-방화벽-설정>2-4. 리눅스 방화벽 설정</h3>
<p>리눅스에 기본적으로 iptables 라는 방화벽이 설정되어 있다는데, 오라클 클라우드에 자체적인 방화벽이 있으니 필요하다면 중지해도 된다고 한다. 내용을 잘 몰라 그대로 두려했다가 시도해봤는데 생각보다 애를 많이 먹었다.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># 중지</span>
sudo systemctl stop iptables
sudo systemctl stop ip6tables
sudo systemctl stop firewalld

<span style=color:#75715e># 비활성화</span>
sudo systemctl disable iptables
sudo systemctl disable ip6tables
sudo systemctl disable firewalld

<span style=color:#75715e># 나중에 필요하면 unmask</span>
sudo systemctl mask iptables
sudo systemctl mask ip6tables
sudo systemctl mask firewalld

<span style=color:#75715e># 중지 확인</span>
systemctl list-unit-files | grep iptables
systemctl list-unit-files | grep fire
systemctl status firewalld
</code></pre></div><h3 id=2-5-yum-업데이트>2-5. yum 업데이트</h3>
<p>CentOS 를 설치하면서 패키지 관리자가 yum(dnf), rpm, deb, apt-get, dpkg 등 다양하게 존재한다는 것을 알게 되었다. 맥에서 homebrew와 같은 역할이지 않을까 싶다.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>sudo yum update

sudo yum upgrade
</code></pre></div><h3 id=2-6-서버-타임존-설정--bash-한글-설정>2-6. 서버 타임존 설정 & bash 한글 설정</h3>
<p>설치 초기에는 시간대가 GMT 기준이기 때문에 로그에 시간이 이상하게 나온다. 타임존을 GMT +9 로 변경해준다.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># 타임존 설정</span>
sudo timedatectl set-timezone Asia/Seoul
<span style=color:#75715e># 설정 확인</span>
timedatectl
</code></pre></div><p>.bashrc 파일을 수정하면 bash 에서 한글이 깨지지 않고 정상적으로 입력된다.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>vi ~/.bashrc
<span style=color:#75715e># 아래 내용을 하단에 삽입</span>
LANG<span style=color:#f92672>=</span>ko_KR
export LANG
</code></pre></div><h3 id=2-7-백업-설정선택>2-7. 백업 설정(선택)</h3>
<p>무료 서비스기 때문에 언제 갑자기 서비스가 종료될지 모른다고 생각해 시놀로지 서버에 자료를 주기적으로 백업할 수 있도록 설정했다. 서비스 종료 우려 외에도 백업 데이터가 있으면 마음이 든든해지니 가급적 세팅하는 것이 좋을 것 같다.</p>
<p>시놀로지 6버전에서 작업했고 다소 내용이 복잡하다.</p>
<h4 id=2-7-1-시놀로지-설정>2-7-1. 시놀로지 설정</h4>
<h5 id=rsync-활성화>rsync 활성화</h5>
<p>제어판 > 파일 서비스 > rsync 에서 서비스를 활성화 하고 포트를 지정해준다. (사설IP를 사용한다면 해당 포트 포워딩 등이 필요할 수 있음)</p>
<p><img src=images/pic-0010.png alt="스크린샷 2021-12-04 오후 1.58.09.png"></p>
<h5 id=계정-생성>계정 생성</h5>
<p>rsync 외의 권한을 최소화 하기위해서 전용 계정을 만들어 주었는데 보안에 신경쓸게 없다면 기존 계정을 그대로 사용해도 된다. 계정에 아래와 같은 권한을 부여해준다.</p>
<ul>
<li>administrators 그룹 부여 (ssh 설정 이후 그룹에서 제외할 예정)</li>
<li>&lsquo;homes&rsquo; 및 &lsquo;NetBackup&rsquo; 디렉토리 접근 권한 부여</li>
<li>rsync 계정 추가 및 비밀번호 지정</li>
</ul>
<p><img src=images/pic-0011.png alt="스크린샷 2021-12-04 오후 1.55.18.png"></p>
<p><img src=images/pic-0013.png alt="스크린샷 2021-12-04 오후 1.55.31.png"></p>
<p><img src=images/pic-0008.png alt="스크린샷 2021-12-04 오후 2.02.57.png"></p>
<p><img src=images/pic-0014.png alt="스크린샷 2021-12-04 오후 2.04.59.png"></p>
<h5 id=ssh-설정>ssh 설정</h5>
<p>추후 rsync 진행할 때 비밀번호 없이 저장 된 인증키로 접속을 설정하기 위하여 ssh를 잠시 실행하였으며 편의상 rsync와 동일한 포트로 구성하였다.</p>
<p><img src=images/pic-0006.png alt="스크린샷 2021-12-04 오후 2.06.27.png"></p>
<h4 id=2-7-2-oci-설정>2-7-2. OCI 설정</h4>
<p>OCI 서버에 ssh 접속을 하여 ssh-key를 생성해준다.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#f92672>[</span>root@centos8 ~<span style=color:#f92672>]</span><span style=color:#75715e># ssh-keygen -t rsa</span>
Generating public/private rsa key pair.
Enter file in which to save the key <span style=color:#f92672>(</span>/root/.ssh/id_rsa<span style=color:#f92672>)</span>:
Enter passphrase <span style=color:#f92672>(</span>empty <span style=color:#66d9ef>for</span> no passphrase<span style=color:#f92672>)</span>:
Enter same passphrase again:
Your identification has been saved in /root/.ssh/id_rsa.
Your public key has been saved in /root/.ssh/id_rsa.pub.
The key fingerprint is:
***************************************************** root@centos8
The key<span style=color:#960050;background-color:#1e0010>&#39;</span>s randomart image is:
+---<span style=color:#f92672>[</span>RSA 3072<span style=color:#f92672>]</span>----+
|      . .        |
|     + * .       |
|    . B * .      |
|     . @ <span style=color:#f92672>=</span>       |
|    ..B S o      |
|   ..<span style=color:#f92672>=</span>oB.B       |
| .. *<span style=color:#f92672>=</span>+.Bo.      |
|o+ Eooo.o.       |
|.o<span style=color:#f92672>=</span>. .  .o.      |
+----<span style=color:#f92672>[</span>SHA256<span style=color:#f92672>]</span>-----+
</code></pre></div><p>그리고 아래 명령어로 ssh-key의 내용을 시놀로지 서버의 authorized_keys에 추가하여 준다.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#f92672>[</span>root@centos8 ~<span style=color:#f92672>]</span><span style=color:#75715e># cat ~/.ssh/id_rsa.pub | ssh -p 포트번호 rsync@시놀로지주소 &#34;cat &gt;&gt; .ssh/authorized_keys&#34;</span>
</code></pre></div><h4 id=2-7-3-다시-시놀로지-설정>2-7-3. 다시 시놀로지 설정</h4>
<p>이후에 시놀로지 서버에 ssh 접속을 하여 다음처럼 접근 권한을 변경해준다. (권한설정에 따라 파일이 존재함에도 불구하고 접속시에 비밀번호를 요구할 수 있다.)</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>rsync@Taedi_NAS:~$ sudo chmod <span style=color:#ae81ff>755</span> /var/services/homes/rsync
rsync@Taedi_NAS:~$ sudo chmod <span style=color:#ae81ff>700</span> /var/services/homes/rsync/.ssh
rsync@Taedi_NAS:~$ sudo chmod <span style=color:#ae81ff>600</span> /var/services/homes/rsync/.ssh/authorized_keys
</code></pre></div><p>그리고 sshd_config 파일을 수정하여 인증키로 로그인이 가능하도록 설정을 수정해준다.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># sshd_config 편집 진입</span>
sudo vi /etc/ssh/sshd_config
</code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># 수정할 내용</span>
PubkeyAuthentication yes
AuthorizedKeysFile  .ssh/authorized_keys
</code></pre></div><p>그리고 sshd 재시작하면 된다.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># sshd_config 재시작</span>
sudo synoservicectl --restart sshd
</code></pre></div><p>이후 시놀로지 제어판에서 ssh 를 비활성화 하고 다시 활성화 하면 접속이 가능하다.</p>
<h4 id=2-7-4-rsync-테스트>2-7-4. rsync 테스트</h4>
<p>CentOS 서버 ssh 에서 다음 명령어를 사용했을 때 비밀번호 입력없이 백업이 시작된다면 설정이 완료 된 것이다. (본인은 이후 시놀로지 ssh 활성화 해제 및 rsync 아이디에 관리자 권한 해제 후에도 정상적으로 동작했음)</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># CentOS &#39;/&#39;폴더 하위의 내용을 시놀로지 &#39;NetBackup/backup/&#39;경로에 복사</span>
rsync -av -e <span style=color:#e6db74>&#39;ssh -p 시놀로지_포트&#39;</span> / 아이디@시놀로지_주소::NetBackup/backup/
</code></pre></div><p>작업을 중간에 종료하려면 <code>ctrl + c</code> 버튼을 누르면 된다.</p>
<h4 id=2-7-5-crontab-등록>2-7-5. crontab 등록</h4>
<p>크론탭을 설정하면 윈도우 작업스케줄러 처럼 특정 시간마다 반복적으로 업무를 지시할 수 있다.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># 크론탭 편집</span>
crontab -e
</code></pre></div><p>크론탭에 방금전 테스트 했던 명령어를 매일 7시에 실행할 수 있도록 설정해주었다. (vi 에디터 수정모드는 insert키, 저장은 :wq, 저장없이 나가려면 :qa!)</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>* <span style=color:#ae81ff>7</span> * * * rsync -av -e <span style=color:#e6db74>&#39;ssh -p 시놀로지_포트&#39;</span> / 아이디@시놀로지_주소::NetBackup/backup/
</code></pre></div><h2 id=참고>참고</h2>
<ul>
<li><a href=https://kb.synology.com/ko-kr/DSM/tutorial/How_to_back_up_Linux_computer_to_Synology_NAS>https://kb.synology.com/ko-kr/DSM/tutorial/How_to_back_up_Linux_computer_to_Synology_NAS</a></li>
<li><a href=https://blog.naver.com/deeperain/222315501853>https://blog.naver.com/deeperain/222315501853</a></li>
<li><a href=https://forteleaf.tistory.com/entry/synology-ssh-key%EA%B0%92%EC%9C%BC%EB%A1%9C-%EB%B9%84%EB%B0%80%EB%B2%88%ED%98%B8-%EC%97%86%EC%9D%B4-%EB%A1%9C%EA%B7%B8%EC%9D%B8>https://forteleaf.tistory.com/entry/synology-ssh-key값으로-비밀번호-없이-로그인</a></li>
</ul>
</div>
<hr>
<div class="row next-prev-navigator">
<div class="col-md-6 previous-article">
<a href=/python-virtual-environment-setup/ title="파이썬 가상환경 설정(pyenv, pipenv)" class="btn btn-outline-info">
<div><i class="fas fa-chevron-circle-left"></i> 이전</div>
<div class=next-prev-text>파이썬 가상환경 설정(pyenv, pipenv)</div>
</a>
</div>
<div class="col-md-6 next-article">
<a href=/mysql-dump/ title="[mysqldump] MySQL DB 백업 및 복구" class="btn btn-outline-info">
<div>다음 <i class="fas fa-chevron-circle-right"></i></div>
<div class=next-prev-text>[mysqldump] MySQL DB 백업 및 복구</div>
</a>
</div>
</div>
<hr>
<div class=utterances></div>
<script src=https://utteranc.es/client.js repo=taedi90/blog_comments issue-term=pathname theme=github-light crossorigin=anonymous defer></script>
</div>
</div>
</div>
<a id=scroll-to-top class=btn><i class="fas fa-chevron-circle-up"></i></a>
</section>
<section class=toc-section id=toc-section>
<div class=toc-holder>
<h5 class="text-center pl-3">List</h5>
<hr>
<div class=toc>
<nav id=TableOfContents>
<ul>
<li><a href=#1-서비스-가입>1. 서비스 가입</a></li>
<li><a href=#2-세팅>2. 세팅</a>
<ul>
<li><a href=#2-1-vm-생성>2-1. VM 생성</a></li>
<li><a href=#2-2-대시보드-확인>2-2. 대시보드 확인</a></li>
<li><a href=#2-3-ssh-접속>2-3. SSH 접속</a>
<ul>
<li><a href=#2-3-1-ssh-접속>2-3-1. SSH 접속</a></li>
<li><a href=#2-3-2-루트-비밀번호-변경>2-3-2. 루트 비밀번호 변경</a></li>
<li><a href=#2-3-3-ssh-key-없이-로그인-설정>2-3-3. ssh-key 없이 로그인 설정</a></li>
</ul>
</li>
<li><a href=#2-4-리눅스-방화벽-설정>2-4. 리눅스 방화벽 설정</a></li>
<li><a href=#2-5-yum-업데이트>2-5. yum 업데이트</a></li>
<li><a href=#2-6-서버-타임존-설정--bash-한글-설정>2-6. 서버 타임존 설정 & bash 한글 설정</a></li>
<li><a href=#2-7-백업-설정선택>2-7. 백업 설정(선택)</a>
<ul>
<li><a href=#2-7-1-시놀로지-설정>2-7-1. 시놀로지 설정</a></li>
<li><a href=#2-7-2-oci-설정>2-7-2. OCI 설정</a></li>
<li><a href=#2-7-3-다시-시놀로지-설정>2-7-3. 다시 시놀로지 설정</a></li>
<li><a href=#2-7-4-rsync-테스트>2-7-4. rsync 테스트</a></li>
<li><a href=#2-7-5-crontab-등록>2-7-5. crontab 등록</a></li>
</ul>
</li>
</ul>
</li>
<li><a href=#참고>참고</a></li>
</ul>
</nav>
</div>
</div>
</section>
</div>
<footer class="container-fluid text-center align-content-center footer pb-2">
<div class="container pt-5">
<div class="row text-left">
<div class="col-md-4 col-sm-12">
<h5>Contact</h5>
<ul>
<li><span>Email: </span> <a href=mailto:taedi90@gmail.com><span>taedi90@gmail.com</span></a></li>
<li><span>Github: </span> <a href=https://github.com/taedi90><span>https://github.com/taedi90</span></a></li>
</ul>
</div>
</div>
</div>
</footer>
<script type=text/javascript src=/js/jquery-3.4.1.min.js></script>
<script type=text/javascript src=/js/popper.min.js></script>
<script type=text/javascript src=/js/bootstrap.min.js></script>
<script type=text/javascript src=/js/navbar.js></script>
<script type=text/javascript src=/js/plyr.js></script>
<script type=text/javascript src=/js/main.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js></script>
<script src=/js/single.js></script>
<script>hljs.initHighlightingOnLoad()</script>
<script>$(document).ready(function(){$('p').has('img').css('text-align','center')})</script>
</body>
</html>